<div class="col-md-12">
	<form role="form" name="form" ng-init="initPmProfitLogCreation()">
		<div class="panel panel-default" width="90%">
	   		<table width="100%">
	   			<tr>
	   				<td width="50%" align="left">
	   					<h3 class="panel-title"><strong>{{ 'new_log_parkingmeter' | i18n }}</strong></h3>
	   				</td>
	   				<td width="50%" align="right">
						<a href="#/aux/add/uploadfile/3/1" class="btn btn-success" type="button">Carica File Log</a>
					</td>
	   			</tr>
	   		</table>
		  	<div class="panel-body">
		  		<div class="form-group">
			    	<label for="parkN">{{ 'pm_code_log' | i18n }}</label>
			    	<select id="parkN" name="parkN" class="form-control" ng-options="p as p.code for p in allPmProfit | orderBy:'code'" ng-model="myPm" required ng-change="getPmProfitDetailData(myPm)">
			    		<option value="">{{ 'pm_log_placeholder' | i18n }}</option>
			    	</select>
			   		<div class="alert alert-danger" ng-show="!isInit && form.parkN.$error.required">{{ 'parking_name_select_err_required' | i18n }}</div>
				</div>
				<table width="100%" ng-show="pmProfitLoadedAndSelected">
					<tr>
						<td><strong>{{ 'park_id' | i18n }}</strong></td>
						<td>{{ myPmProfitDetails.id }}</td>
					</tr>
					<tr>
						<td><strong>{{ 'pm_code' | i18n }}</strong></td>
						<td>{{ myPmProfitDetails.code }}</td>
					</tr>
					<tr>
						<td><strong>{{ 'pm_note' | i18n }}</strong></td>
						<td>{{ myPmProfitDetails.note }}</td>
					</tr>
					<tr>
						<td colspan="2"><hr/></td>
					</tr>
				</table>
				<div class="form-group" ng-show="pmProfitLoadedAndSelected">
					<label for="totalSlot">{{ 'parking_user_log' | i18n }}</label>
			    	<input id="totalSlot" type="text" class="form-control" name="sUserLog" ng-model="myPmProfitDetails.user" ng-pattern="onlyNumbers" placeholder="{{ 'street_usercode_placeholder' | i18n }}" required >
				   	<div class="alert alert-danger" ng-show="!isInit && form.sUserLog.$error.required">{{ 'parking_userlog_err_required' | i18n }}</div>
				   	<div class="alert alert-danger" ng-show="!isInit && form.sUserLog.$error.pattern">{{ 'parking_userlog_pattern' | i18n }}</div>
				</div>
				<div class="form-group" ng-show="pmProfitLoadedAndSelected">
					<label class="group-label" for="logtime">{{ 'parking_time_log' | i18n }}:</label>
			   		<div class="panel panel-default" width="90%">
				   		<div class="panel-body">
							<table width="100%">
								<tr>
									<td width="6%"><strong>{{ 'parking_day_log' | i18n }}: </strong></td>
									<td width="39%">
										<input id="logtime" name="pmLogTime" type="text" class="form-control" datepicker-popup="{{format}}" placeholder="{{getPlaceHolder()}}" ng-model="myPmProfitDetails.loghour" is-open="pmLogtime.open" ng-click="pmLogtime.open = true" datepicker-options="dateOptions" current-text="{{ 'datepicker_button_today' | i18n }}" clear-text="{{ 'datepicker_button_canc' | i18n }}" close-text="{{ 'datepicker_button_close' | i18n }}" show-weeks="false" required />
									</td>
									<td width="5%" align="center"><strong>{{ 'log_period_time' | i18n }}: </strong></td>
									<td width="50%">
										<timepicker id="time" name="pmLogOra" ng-model="myPmProfitDetails.logtime" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian" required></timepicker>
									</td>
								</tr>
								<tr>
									<td colspan="4">
										<div class="alert alert-danger" ng-show="!isInit && form.pmLogTime.$error.required">{{ 'parking_timelog_err_required' | i18n }}</div>
										<div class="alert alert-danger" ng-show="!isInit && form.pmLogOra.$error.required">{{ 'log_time_error_required' | i18n }}</div>
									</td>
								</tr>
							</table>
						</div>
					</div>
<!-- 			    	<input id="logtime" name="pLogTime" type="text" class="form-control" datepicker-popup="{{format}}" placeholder="{{getPlaceHolder()}}" ng-model="myParkingDetails.loghour" is-open="sLogtime.open" ng-click="sLogtime.open = true" datepicker-options="dateOptions" current-text="{{ 'datepicker_button_today' | i18n }}" clear-text="{{ 'datepicker_button_canc' | i18n }}" close-text="{{ 'datepicker_button_close' | i18n }}" show-weeks="false" required /> -->
<!-- 			    	<div class="alert alert-danger" ng-show="!isInit && form.pLogTime.$error.required">{{ 'parking_timelog_err_required' | i18n }}</div> -->
			    </div>
<!-- 			    <div class="form-group" ng-show="parkLoadedAndSelected">	 -->
<!-- 			   		<input type="text" class="form-control" name="pLogOra" id="time" ng-model="myParkingDetails.logtime" placeholder="HH:mm:ss" ng-pattern="timePattern" required> -->
<!-- 			   		<div class="alert alert-danger" ng-show="!isInit && form.pLogOra.$error.required">{{ 'log_time_error_required' | i18n }}</div> -->
<!-- 			   		<div class="alert alert-danger" ng-show="!isInit && form.pLogOra.$error.pattern">{{ 'log_time_error_pattern' | i18n }}</div> -->
<!-- 			   	</div> -->
				<div ng-show="pmProfitLoadedAndSelected">
					<label class="group-label" >{{ 'log_period' | i18n }}</label>
			   		<div class="panel panel-default" width="90%">
				   		<div class="panel-body">
				   			<table width="100%">
					    		<tr>
					    			<td width="6%"><strong>{{ 'log_period_from_date' | i18n }}: </strong></td>
					    			<td width="39%">
					    				<input id="logperiodf" name="pmLogPeriodF" type="text" class="form-control" datepicker-popup="{{format}}" placeholder="{{getPlaceHolder()}}" ng-model="myPmProfitDetails.logPeriodFrom" is-open="pmlogperiodf.open" ng-click="pmlogperiodf.open = true" datepicker-options="dateOptions" current-text="{{ 'datepicker_button_today' | i18n }}" clear-text="{{ 'datepicker_button_canc' | i18n }}" close-text="{{ 'datepicker_button_close' | i18n }}" show-weeks="false" />
					    			</td>
					    			<td width="5%" align="center"><strong>{{ 'log_period_time' | i18n }}: </strong></td>
					    			<td width="50%">
					    				<timepicker ng-model="myPmProfitDetails.startTimePeriod" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
					    			</td>
					    		</tr>
					    		<tr>
					    			<td width="6%"><strong>{{ 'log_period_to_date' | i18n }}: </strong></td>
					    			<td width="39%">
					    				<input id="logperiodt" name="pmLogPeriodT" type="text" class="form-control" datepicker-popup="{{format}}" placeholder="{{getPlaceHolder()}}" ng-model="myPmProfitDetails.logPeriodTo" is-open="pmlogperiodt.open" ng-click="pmlogperiodt.open = true" datepicker-options="dateOptions" current-text="{{ 'datepicker_button_today' | i18n }}" clear-text="{{ 'datepicker_button_canc' | i18n }}" close-text="{{ 'datepicker_button_close' | i18n }}" show-weeks="false" />
					    			</td>
					    			<td width="5%" align="center"><strong>{{ 'log_period_time' | i18n }}: </strong></td>
					    			<td width="50%">
					    				<timepicker ng-model="myPmProfitDetails.endTimePeriod" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
					    			</td>
					    		</tr>
					    		<tr ng-show="(showErrorFromMajorTo)">
					    			<td colspan="4">
					    				<div class="alert alert-danger">{{ 'from_to_period_err' | i18n }}</div>
					    			</td>
					    		</tr>
					    		<tr ng-show="(showErrorEmptyVal)">
				   					<td colspan="4">
				   						<div class="alert alert-danger">{{ 'start_or_end_emplty_period_err' | i18n }}</div>
				   					</td>
				   				</tr>
					    	</table>
				   		</div>
				   	</div>
				</div>
				<div ng-show="pmProfitLoadedAndSelected">
				   	<label class="group-label" for="totalSlot">{{ 'parking_profit' | i18n }}</label>
				   	<div class="panel panel-default" width="90%">
				   		<div class="panel-body">
				   			<table width="100%">
				   				<tr>
				   					<td width="35%"><strong>{{ 'parking_profit_val' | i18n }}</strong></td>
				   					<td><input id="profitVal" type="number" class="form-control" name="pmProfit" ng-model="myPmProfitDetails.profit" ng-pattern="onlyNumbers" placeholder="{{ 'parking_profit_placeholder' | i18n }}" min="0" required></td>
				   				</tr>
				   				<tr ng-show="!isInit && form.pmProfit.$error.pattern">
				   					<td colspan="2">
				   						<div class="alert alert-danger">{{ 'log_parking_profit_error_pattern' | i18n }}</div>
				   					</td>
				   				</tr>
				   				<tr ng-show="!isInit && form.pmProfit.$error.required">
				   					<td colspan="2">
				   						<div class="alert alert-danger">{{ 'log_parking_profit_error_required' | i18n }}</div>
				   					</td>
				   				</tr>
				   				<tr>
				   					<td width="35%"><strong>{{ 'parking_tickets_val' | i18n }}</strong></td>
				   					<td><input id="ticketNum" type="number" class="form-control" name="pmTickets" ng-model="myPmProfitDetails.tickets" ng-pattern="onlyNumbers" placeholder="{{ 'parking_tickets_placeholder' | i18n }}" min="0" required></td>
				   				</tr>
				   				<tr ng-show="!isInit && form.pmTickets.$error.pattern">
				   					<td colspan="2">
				   						<div class="alert alert-danger">{{ 'log_parking_tickets_error_pattern' | i18n }}</div>
				   					</td>
				   				</tr>
				   				<tr ng-show="!isInit && form.pmTickets.$error.required">
				   					<td colspan="2">
				   						<div class="alert alert-danger">{{ 'log_parking_tickets_error_required' | i18n }}</div>
				   					</td>
				   				</tr>
				   			</table>
				   		</div>
				   	</div>	
				</div>
				<div class="alert alert-danger" ng-show="showUpdatingPMErrorMessage">{{ 'err_in_log_parking_inserting' | i18n }}</div>
				<div class="alert alert-success" ng-show="showUpdatingPMSuccessMessage">{{ 'succ_in_log_parking_inserting' | i18n }}</div>
		   		<table width="97%" ng-show="pmProfitLoadedAndSelected">			
				   	<tr>
				   		<td width="85%"></td>
				   		<td width="8%" align="center">
<!-- 				   			<button type="button" class="btn btn-danger btn-lg" ng-click="closeSView()">{{ 'text_btn_close' | i18n  }}</button> -->
				   			<a href="#/aux/home" type="button" class="btn btn-default btn-lg" >{{ 'text_btn_close' | i18n }}</a>
				   		</td>
				   		<td width="7%" align="right">
<!-- 				   		<button type="button" class="btn btn-default btn-lg" ng-click="updateStreet(form, myArea, myZones, editStreet)" ng-show="isEditing">{{ 'text_btn_save' | i18n  }}</button> -->
<!-- 				   		<button type="button" class="btn btn-default btn-lg" ng-click="createStreet(form, myNewArea, myZones, newStreet)" ng-show="!isEditing">{{ 'text_btn_save' | i18n  }}</button> -->
				   			<button type="button" class="btn btn-primary btn-lg" ng-click="insertPmProfitLog(form, myPmProfitDetails)">{{ 'text_btn_save' | i18n  }}</button>
				   		</td>
					</tr>
					<tr>
						<td colspan="3">&nbsp;</td>
					</tr>
				</table>
		   	</div>
	   	</form>
</div>