<div class="row"><!-- ng-init="getParkingMetersFromDb()" -->
	<div ng-show="!editModePM"><!--  && !viewModePM -->			
				<div class="col-md-6" ><!-- id="map_canvas" ng-show="pmMapReady" -->
					<map id="viewPm" class="angular-google-map-container" center="{{ mapOption.center }}" zoom="{{ mapOption.zoom }}" width="100%" >
						<marker ng-repeat="pm in parkingMetersMarkers" id="{{ pm.id }}" position="{{ pm.position }}" icon="{{ pm.icon }}" on-click="showInfoWindow(event, 'pm')" >
							<info-window id="pm" visible-on-marker="{{ pm.id }}">
						        <div ng-non-bindable="">
						          	<div id="siteNotice"></div>
						          	<h4 id="firstHeading" class="firstHeading">
						          		<span ng-show="pmconf.pm_code.visible">{{ pm.data.code }}</span>
						          	</h4>
							        <div id="bodyContent">
							        	<table>
							        		<tr ng-show="pmconf.pm_note.visible">
							        			<td><strong>{{ 'pm_note' | i18n }}:</strong></td>
							        			<td>&nbsp;{{ pm.data.note }}</td>
							        		</tr>
											<tr ng-show="pmconf.pm_status.visible">
							        			<td><strong>{{ 'pm_status' | i18n }}:</strong></td>
							        			<td>
							        				<span ng-show="pm.data.status=='ACTIVE'">{{ 'active_pm_state' | i18n }}</span>
													<span ng-show="pm.data.status!='ACTIVE'">{{ 'inactive_pm_state' | i18n }}</span>
												</td>	
							        		</tr>
							        		<tr ng-if="pmconf.pm_zones0.visible">	
												<td>
													<strong>{{ zone0_label | i18n }}:</strong>
												</td>
												<td>
													<table width="100%">
														<tr ng-repeat="z0 in pm.data.zones0 track by z0.id">
															<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z0.color)}"></span></td>
															<td width="80%">{{ z0.name }}<span ng-if="z0.submacro"> - {{ z0.submacro }}</span><span ng-if="z0.submicro"> - {{ z0.submicro }}</span></td>
														</tr>
													</table>
												</td>
											</tr>
											<tr ng-if="pmconf.pm_zones1.visible">	
												<td>
													<strong>{{ zone1_label | i18n }}:</strong>
												</td>
												<td>
													<table width="100%">
														<tr ng-repeat="z1 in pm.data.zones1 track by z1.id">
															<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z1.color)}"></span></td>
															<td width="80%">{{ z1.name }}<span ng-if="z1.submacro"> - {{ z1.submacro }}</span><span ng-if="z1.submicro"> - {{ z1.submicro }}</span></td>
														</tr>
													</table>
												</td>
											</tr>
											<tr ng-if="pmconf.pm_zones2.visible">	
												<td>
													<strong>{{ zone2_label | i18n }}:</strong>
												</td>
												<td>
													<table width="100%">
														<tr ng-repeat="z2 in pm.data.zones2 track by z2.id">
															<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z2.color)}"></span></td>
															<td width="80%">{{ z2.name }}<span ng-if="z2.submacro"> - {{ z2.submacro }}</span><span ng-if="z2.submicro"> - {{ z2.submicro }}</span></td>
														</tr>
													</table>
												</td>
											</tr>
											<tr ng-if="pmconf.pm_zones3.visible">	
												<td>
													<strong>{{ zone3_label | i18n }}:</strong>
												</td>
												<td>
													<table width="100%">
														<tr ng-repeat="z3 in pm.data.zones3 track by z3.id">
															<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z3.color)}"></span></td>
															<td width="80%">{{ z3.name }}<span ng-if="z3.submacro"> - {{ z3.submacro }}</span><span ng-if="z3.submicro"> - {{ z3.submicro }}</span></td>
														</tr>
													</table>
												</td>
											</tr>
											<tr ng-if="pmconf.pm_zones4.visible">	
												<td>
													<strong>{{ zone4_label | i18n }}:</strong>
												</td>
												<td>
													<table width="100%">
														<tr ng-repeat="z4 in pm.data.zones4 track by z4.id">
															<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z4.color)}"></span></td>
															<td width="80%">{{ z4.name }}<span ng-if="z4.submacro"> - {{ z4.submacro }}</span><span ng-if="z4.submicro"> - {{ z4.submicro }}</span></td>
														</tr>
													</table>
												</td>
											</tr>
							        		<tr ng-show="pmconf.pm_rateArea.visible">
							        			<td colspan="2">
							        				<strong>{{ 'pm_area_name' | i18n }}:</strong>
							        				<div class="panel panel-default">
														<div class="panel-body">
															<table width="100%">
																<tr>
																	<td width="45%"><strong>{{ 'area_name' | i18n }}:</strong></td>
																	<td width="55%">{{ pm.area.name }}</td>
																</tr>
																<tr>	
																	<td><strong>{{ 'area_rate' | i18n }}:</strong></td>
																	<!-- <td>{{ pm.area.fee | euroVal }} {{ 'euro_hour' | i18n }}</td> -->
																	<td>
																		<div ng-repeat="r in pm.area.validityPeriod">
																			<span>{{ r.rateValue | centToeuroVal }} {{ 'euro_hour' | i18n }} : </span>
																			<span>{{ 'area_rate_period_startdate' | i18n }} {{ r.from }} {{ 'area_rate_period_enddate' | i18n }} {{ r.to }}</span></br>
																			<span>{{ 'area_rate_period_hours' | i18n }}: {{ r.timeSlot }};</span>
																			<span ng-repeat="d in getWeekDaysFromArray(r.weekDays, 0)">{{ d | i18n }};&nbsp</span>
																			<span ng-show="r.holiday">{{ 'area_rate_is_holidays' | i18n }}</span>
																		</div>
																	</td>
																</tr>
																<!-- <tr>	
																	<td><strong>{{ 'area_time' | i18n }}:</strong></td>
																	<td>{{ pm.area.timeSlot }}</td>
																</tr> -->
																<tr>	
																	<td><strong>{{ 'area_sms' | i18n }}:</strong></td>
																	<td>{{ pm.area.smsCode }}</td>
																</tr>
																<tr>	
																	<td><strong>{{ 'area_color' | i18n }}</strong></td>
																	<td><span class="colorBox" ng-style="{'background-color': correctColor(pm.area.color)}"></span></td>
																</tr>
													   		</table>
														</div>
													</div>	
							        			</td>
							        		</tr>
							        		<tr>
												<td colspan="2" align="right">
													<hr/>
												</td>
											</tr>
											<tr>
												<td colspan="2" class="info_window_buttons">
													<a href type="button" class="btn btn-primary" ng-click="setPmEdit(pm.data)"  alt="{{ 'link_edit_title' | i18n }}" title="{{ 'link_edit_title' | i18n }}">{{ 'btn_edit_text' | i18n }}</a>&nbsp;
													<a href type="button" class="btn btn-danger" ng-click="setPmRemove(pm.data)" alt="{{ 'link_remove_title' | i18n }}" title="{{ 'link_remove_title' | i18n }}">{{ 'btn_delete_text' | i18n }}</a>
												</td>
											</tr>
							        	</table>
							        </div>
						        </div>
						    </info-window>
						</marker>
						<marker ng-repeat="spm in mySpecialPMMarkers" id="{{ spm.id }}" position="{{ spm.position }}" icon="{{ spm.icon }}" visible="{{ spm.visible }}" animation="{{ spm.options.animation }}" on-click="showInfoWindow(event, 'spm')" >
							<info-window id="spm" visible-on-marker="{{ spm.id }}">
						        <div ng-non-bindable="">
						          	<div id="siteNotice"></div>
						          	<h4 id="firstHeading" class="firstHeading">
						          		<span ng-show="pmconf.pm_code.visible">{{ spm.data.code }}</span>
						          	</h4>
							        <div id="bodyContent">
							        	<table>
							        		<tr ng-show="pmconf.pm_note.visible">
							        			<td><strong>{{ 'pm_note' | i18n }}:</strong></td>
							        			<td>&nbsp;{{ spm.data.note }}</td>
							        		</tr>
											<tr ng-show="pmconf.pm_status.visible">
							        			<td><strong>{{ 'pm_status' | i18n }}:</strong></td>
							        			<td>
							        				<span ng-show="spm.data.status=='ACTIVE'">{{ 'active_pm_state' | i18n }}</span>
													<span ng-show="spm.data.status!='ACTIVE'">{{ 'inactive_pm_state' | i18n }}</span>
												</td>	
							        		</tr>
							        		<tr ng-if="pmconf.pm_zones0.visible">	
												<td>
													<strong>{{ zone0_label | i18n }}:</strong>
												</td>
												<td>
													<table width="100%">
														<tr ng-repeat="z0 in spm.data.zones0 track by z0.id">
															<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z0.color)}"></span></td>
															<td width="80%">{{ z0.name }}<span ng-if="z0.submacro"> - {{ z0.submacro }}</span><span ng-if="z0.submicro"> - {{ z0.submicro }}</span></td>
														</tr>
													</table>
												</td>
											</tr>
											<tr ng-if="pmconf.pm_zones1.visible">	
												<td>
													<strong>{{ zone1_label | i18n }}:</strong>
												</td>
												<td>
													<table width="100%">
														<tr ng-repeat="z1 in spm.data.zones1 track by z1.id">
															<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z1.color)}"></span></td>
															<td width="80%">{{ z1.name }}<span ng-if="z1.submacro"> - {{ z1.submacro }}</span><span ng-if="z1.submicro"> - {{ z1.submicro }}</span></td>
														</tr>
													</table>
												</td>
											</tr>
											<tr ng-if="pmconf.pm_zones2.visible">	
												<td>
													<strong>{{ zone2_label | i18n }}:</strong>
												</td>
												<td>
													<table width="100%">
														<tr ng-repeat="z2 in spm.data.zones2 track by z2.id">
															<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z2.color)}"></span></td>
															<td width="80%">{{ z2.name }}<span ng-if="z2.submacro"> - {{ z2.submacro }}</span><span ng-if="z2.submicro"> - {{ z2.submicro }}</span></td>
														</tr>
													</table>
												</td>
											</tr>
											<tr ng-if="pmconf.pm_zones3.visible">	
												<td>
													<strong>{{ zone3_label | i18n }}:</strong>
												</td>
												<td>
													<table width="100%">
														<tr ng-repeat="z3 in spm.data.zones3 track by z3.id">
															<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z3.color)}"></span></td>
															<td width="80%">{{ z3.name }}<span ng-if="z3.submacro"> - {{ z3.submacro }}</span><span ng-if="z3.submicro"> - {{ z3.submicro }}</span></td>
														</tr>
													</table>
												</td>
											</tr>
											<tr ng-if="pmconf.pm_zones4.visible">	
												<td>
													<strong>{{ zone4_label | i18n }}:</strong>
												</td>
												<td>
													<table width="100%">
														<tr ng-repeat="z4 in spm.data.zones4 track by z4.id">
															<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z4.color)}"></span></td>
															<td width="80%">{{ z4.name }}<span ng-if="z4.submacro"> - {{ z4.submacro }}</span><span ng-if="z4.submicro"> - {{ z4.submicro }}</span></td>
														</tr>
													</table>
												</td>
											</tr>
							        		<tr ng-show="pmconf.pm_rateArea.visible">
							        			<td colspan="2">
							        				<strong>{{ 'pm_area_name' | i18n }}:</strong>
							        				<div class="panel panel-default">
														<div class="panel-body">
															<table width="100%">
																<tr>
																	<td width="45%"><strong>{{ 'area_name' | i18n }}:</strong></td>
																	<td width="55%">{{ spm.area.name }}</td>
																</tr>
																<tr>	
																	<td><strong>{{ 'area_rate' | i18n }}:</strong></td>
																	<!-- <td>{{ spm.area.fee | euroVal }} {{ 'euro_hour' | i18n }}</td> -->
																	<td>
																		<div ng-repeat="r in spm.area.validityPeriod">
																			<span>{{ r.rateValue | centToeuroVal }} {{ 'euro_hour' | i18n }} : </span>
																			<span>{{ 'area_rate_period_startdate' | i18n }} {{ r.from }} {{ 'area_rate_period_enddate' | i18n }} {{ r.to }}</span></br>
																			<span>{{ 'area_rate_period_hours' | i18n }}: {{ r.timeSlot }};</span>
																			<span ng-repeat="d in getWeekDaysFromArray(r.weekDays, 0)">{{ d | i18n }};&nbsp</span>
																			<span ng-show="r.holiday">{{ 'area_rate_is_holidays' | i18n }}</span>
																		</div>
																	</td>
																</tr>
																<!-- <tr>	
																	<td><strong>{{ 'area_time' | i18n }}:</strong></td>
																	<td>{{ spm.area.timeSlot }}</td>
																</tr> -->
																<tr>	
																	<td><strong>{{ 'area_sms' | i18n }}:</strong></td>
																	<td>{{ spm.area.smsCode }}</td>
																</tr>
																<tr>	
																	<td><strong>{{ 'area_color' | i18n }}</strong></td>
																	<td><span class="colorBox" ng-style="{'background-color': correctColor(spm.area.color)}"></span></td>
																</tr>
													   		</table>
														</div>
													</div>	
							        			</td>
							        		</tr>
							        		<tr>
												<td colspan="2" align="right">
													<hr/>
												</td>
											</tr>
											<tr>
												<td colspan="2" class="info_window_buttons">
													<a href type="button" class="btn btn-primary" ng-click="setPmEdit(spm.data)"  alt="{{ 'link_edit_title' | i18n }}" title="{{ 'link_edit_title' | i18n }}">{{ 'btn_edit_text' | i18n }}</a>&nbsp;
													<a href type="button" class="btn btn-danger" ng-click="setPmRemove(spm.data)" alt="{{ 'link_remove_title' | i18n }}" title="{{ 'link_remove_title' | i18n }}">{{ 'btn_delete_text' | i18n }}</a>
												</td>
											</tr>
							        	</table>
							        </div>
						        </div>
						    </info-window>
						</marker>
					</map>
				</div>
				<div class="col-md-6" ng-show="!viewModePM">
					<div class="panel panel-success" align="center">
						<div class="panel-heading">
							<table width="100%">
								<tr>
									<td align="left"><h5 class="panel-title">{{ 'pm_list' | i18n }}</h5></td>
									<td align="right"><button type="button" class="btn btn-success" ng-click="setPmEdit(null)">{{ 'add_new_object' | i18n }}</button></td>
								</tr>
							</table>
<!-- 							<h5 class="panel-title">{{ 'pm_list' | i18n }}&nbsp; &nbsp; <button type="button" class="btn btn-success btn-xs" ng-click="setPmEdit(null)"><i class="glyphicon glyphicon-plus"></i></button></h5> -->
						</div>
						<div class="panel-body">
							<div class="field-error" ng-show="showDeletingPMErrorMessage">{{ 'err_in_delete_parkingmeter' | i18n }}</div>
							<div class="tablewrapper">
								<table class="table table-striped" style="width: 100%">
									<tr ng-show="pmeterWS.length != 0">
										<th width="15%"><span ng-show="pmconf.pm_code.visible">{{ 'pm_code' | i18n }}</span></th>
										<th width="20%">
											<span ng-show="pmconf.pm_note.visible">{{ 'pm_note' | i18n }}</span>&nbsp;
											<a href ng-click="showNoteFilter();currentPagePm=0" ng-show="!showNotFilter" alt="{{ 'filter_name_title' | i18n }}" title="{{ 'filter_name_title' | i18n }}"><i class="glyphicon glyphicon-filter"></i></a>
											<a href ng-click="noteFilter=null;hideNoteFilter()" ng-show="showNotFilter" alt="{{ 'filter_name_title' | i18n }}" title="{{ 'filter_name_title' | i18n }}"><i class="glyphicon glyphicon-remove"></i></a>
											<div ng-show="showNotFilter">
										    	 <input type="search" ng-model="noteFilter" placeholder="{{ 'filter_note_text' | i18n }}" ng-change="currentPagePm = 0" />
										    </div>
										</th>
										<th width="18%" class="myCenter">
											<span ng-show="pmconf.pm_status.visible">{{ 'pm_status' | i18n }}</span> 
											<a href ng-click="showPmStatusFilter();currentPagePm=0" ng-show="!showStatusPmFilter" alt="{{ 'filter_status_title' | i18n }}" title="{{ 'filter_status_title' | i18n }}"><i class="glyphicon glyphicon-filter"></i></a>
											<a href ng-click="pmStatusFilter=null;hidePmStatusFilter()" ng-show="showStatusPmFilter" alt="{{ 'filter_status_title' | i18n }}" title="{{ 'filter_status_title' | i18n }}"><i class="glyphicon glyphicon-remove"></i></a>
											<select id="f_pm_status" ng-show="showStatusPmFilter" class="form-control" ng-options="s.filter as s.descrizione for s in allPmStatusFilter" ng-model="pmStatusFilter">
					    					</select>
										</th>
										<th width="22%" colspan="2" class="myCenter">
											<span ng-show="pmconf.pm_rateArea.visible">{{ 'pm_area_name' | i18n }}</span>&nbsp;
											<a href ng-click="showPmAreaFilter();currentPagePm=0" ng-show="!showAreaPmFilter" alt="{{ 'filter_area_title' | i18n }}" title="{{ 'filter_area_title' | i18n }}"><i class="glyphicon glyphicon-filter"></i></a>
											<a href ng-click="pmAreaFilter=null;hidePmAreaFilter()" ng-show="showAreaPmFilter" alt="{{ 'filter_area_title' | i18n }}" title="{{ 'filter_area_title' | i18n }}"><i class="glyphicon glyphicon-remove"></i></a>
						    				<select id="f_pm_area" ng-show="showAreaPmFilter" class="form-control" ng-model="pmAreaFilter">
						    					<option ng-repeat="a in allPmAreaFilter" value="{{a.id}}" ng-style="{'color': correctColor(a.color)}" >{{ a.name }}</option><!-- ng-style="{'background-color': correctColor(a.color)}" -->
						    				</select>
										</th>
										<th width="30%" class="myCenter"><span>{{ 'operations' | i18n }}</span></th>
									</tr>
									<tbody class="animate-repeat"
										ng-repeat="pmeter in filtered = (pmeterWS | filter:noteFilter | filter:pmAreaFilter | filter:pmStatusFilter) | orderBy:'code' | startFrom:currentPagePm*maxPmeters | limitTo:maxPmeters">
										<tr ><!--  ng-show="pmeter.status!='ACTIVE' && pmStatusFilter!='ACTIVE'" -->
											<td align="left"><span ng-show="pmconf.pm_code.visible">{{pmeter.code}}</span></td>
											<td align="left"><span ng-show="pmconf.pm_note.visible">{{pmeter.note}}</span></td>
											<td align="center">
												<span ng-show="pmconf.pm_status.visible && pmeter.status !='ACTIVE'" class="pmeter-off">OFF</span>
												<span ng-show="pmconf.pm_status.visible && pmeter.status =='ACTIVE'" class="pmeter-on">ON</span>
											</td>
											<td align="center"><div class="colorBox" ng-show="pmconf.pm_rateArea.visible" ng-style="{'background-color': correctColor(pmeter.color)}"></div></td><!-- {{area.color}} -->
											<td align="center"><span ng-show="pmconf.pm_rateArea.visible">{{pmeter.area.name}}</span></td>
											<td align="center">
												<a href type="button" class="btn btn-primary btn-xs" ng-click="setPmDetails(pmeter)" alt="{{ 'link_view_title' | i18n }}" title="{{ 'link_view_title' | i18n }}"><i class="glyphicon glyphicon-eye-open"></i></a>&nbsp;
												<a href type="button" class="btn btn-primary btn-xs" ng-click="setPmEdit(pmeter)"  alt="{{ 'link_edit_title' | i18n }}" title="{{ 'link_edit_title' | i18n }}"><i class="glyphicon glyphicon-pencil"></i></a>&nbsp;
												<a href type="button" class="btn btn-primary btn-xs" ng-click="setPmRemove(pmeter)" alt="{{ 'link_remove_title' | i18n }}" title="{{ 'link_remove_title' | i18n }}"><i class="glyphicon glyphicon-trash"></i></a>
											</td>
										</tr>
	<!-- 									<tr class="success" ng-show="pmeter.status=='ACTIVE'"> -->
	<!-- 										<td align="left"><span ng-show="pm_code.visible">{{pmeter.code}}</span></td> -->
	<!-- 										<td align="left"><span ng-show="pm_note.visible">{{pmeter.note}}</span></td> -->
	<!-- 										<td align="center"><span ng-show="pm_status.visible">ON</span></td> -->
	<!-- 										<td align="center"><div class="colorBox" ng-show="pm_rateArea.visible" ng-style="{'background-color': correctColor(pmeter.color)}"></div></td>{{area.color}} -->
	<!-- 										<td align="center"><span ng-show="pm_rateArea.visible">{{pmeter.area_name}}</span></td> -->
	<!-- 										<td align="left"> -->
	<!-- 											<a href ng-click="setPmDetails(pmeter)" alt="{{ 'link_view_title' | i18n }}" title="{{ 'link_view_title' | i18n }}"><i class="glyphicon glyphicon-eye-open"></i></a>&nbsp; -->
	<!-- 											<a href ng-click="setPmEdit(pmeter)"  alt="{{ 'link_edit_title' | i18n }}" title="{{ 'link_edit_title' | i18n }}"><i class="glyphicon glyphicon-pencil"></i></a>&nbsp; -->
	<!-- 											<a href ng-click="setPmRemove(pmeter)" alt="{{ 'link_remove_title' | i18n }}" title="{{ 'link_remove_title' | i18n }}"><i class="glyphicon glyphicon-trash"></i></a> -->
	<!-- 										</td> -->
	<!-- 									</tr> -->
									</tbody>
									<tr ng-show="pmeterWS.length == 0">
										<td colspan="6"><strong>{{ 'no_pm_in_lists' | i18n }}</strong></td>
									</tr>
								</table>
							</div>
							<button class="btn btn-default"
									ng-disabled="currentPagePm == 0"
									ng-click="currentPagePm=currentPagePm-1">{{ 'previous_label' | i18n }}</button>
								{{currentPagePm+1}}/{{numberOfPages(3, filtered)}}
							<button class="btn btn-default"
									ng-disabled="currentPagePm >= filtered.length/maxPmeters - 1"
									ng-click="currentPagePm=currentPagePm+1">{{ 'next_label' | i18n }}</button>
						</div>
					</div>
				</div>
			<div class="col-md-6" ng-show="viewModePM">
				<div class="panel panel-default" width="90%">
			   		<div class="panel-heading">
			    		<h3 class="panel-title"><strong>{{ 'view_parkingmeter' | i18n }}</strong></h3>
			  		</div>
			  		<div class="panel-body">	
			  			<table width="100%">
							<tr ng-show="pmconf.pm_code.visible">
								<td class="detailsViewParkmeterSX">{{ 'pm_code' | i18n }}:</td>
								<td class="detailsViewParkmeterDX"> {{ viewParckingMeter.code }}</td>
							</tr>
							<tr ng-show="pmconf.pm_note.visible">	
								<td class="detailsViewParkmeterSX">{{ 'pm_note' | i18n }}:</td>
								<td class="detailsViewParkmeterDX">{{ viewParckingMeter.note }}</td>
							</tr>
							<tr ng-show="pmconf.pm_status.visible">
								<td class="detailsViewParkmeterSX">{{ 'pm_status' | i18n }}:</td>
								<td class="detailsViewParkmeterDX">	 
									<span ng-show="viewParckingMeter.status=='ACTIVE'">{{ 'active_pm_state' | i18n }}</span>
									<span ng-show="viewParckingMeter.status!='ACTIVE'">{{ 'inactive_pm_state' | i18n }}</span>
								</td>
							</tr>
							<tr ng-show="pmconf.pm_geometry.visible">
								<td class="detailsViewParkmeterSX">{{ 'pm_geometry' | i18n }}:</td>
								<td class="detailsViewParkmeterDX">{{ myGeometry }}</td>
							</tr>
							<tr ng-show="pmconf.pm_rateArea.visible">
							    <td colspan="2" class="detailsTableColSpan">
							        <hr/>
							    </td>
						    </tr>
						    <tr ng-show="pmconf.pm_rateArea.visible">
						       <td colspan="2" class="detailsTableColSpan">
						        	{{ 'pm_area_name' | i18n }}
						    	</td>
						    </tr>
							<tr ng-show="pmconf.pm_rateArea.visible">
								<td class="detailsViewParkmeterSX">{{ 'area_name' | i18n }}:</td>
								<td class="detailsViewParkmeterDX">{{ myArea.name }}</td>
							</tr>
							<tr ng-show="pmconf.pm_rateArea.visible">	
								<td class="detailsViewParkmeterSX">{{ 'area_rate' | i18n }}:</td>
								<!-- <td class="detailsViewParkmeterDX">{{ myArea.fee | euroVal }} {{ 'euro_hour' | i18n }}</td> -->
								<td class="detailsViewParkmeterDX">
									<div ng-repeat="r in myArea.validityPeriod">
										<span>{{ r.rateValue | centToeuroVal }} {{ 'euro_hour' | i18n }} : </span>
										<span>{{ 'area_rate_period_startdate' | i18n }} {{ r.from }} {{ 'area_rate_period_enddate' | i18n }} {{ r.to }}</span></br>
										<span>{{ 'area_rate_period_hours' | i18n }}: {{ r.timeSlot }};</span>
										<span ng-repeat="d in getWeekDaysFromArray(r.weekDays, 0)">{{ d | i18n }};&nbsp</span>
										<span ng-show="r.holiday">{{ 'area_rate_is_holidays' | i18n }}</span>
									</div>
								</td>
							</tr>
							<!-- <tr ng-show="pmconf.pm_rateArea.visible">	
								<td class="detailsViewParkmeterSX">{{ 'area_time' | i18n }}:</td>
								<td class="detailsViewParkmeterDX">{{ myArea.timeSlot }}</td>
							</tr> -->
							<tr ng-show="pmconf.pm_rateArea.visible">	
								<td class="detailsViewParkmeterSX">{{ 'area_sms' | i18n }}:</td>
								<td class="detailsViewParkmeterDX">{{ myArea.smsCode }}</td>
							</tr>
							<tr ng-show="pmconf.pm_rateArea.visible">	
								<td class="detailsViewParkmeterSX">{{ 'area_color' | i18n }}</td>
								<td class="detailsViewParkmeterDX"><span class="colorBox" ng-style="{'background-color': correctColor(myArea.color)}"></span></td>
							</tr>
							<tr ng-show="pmconf.pm_zones0.visible">
								<td class="detailsViewParkmeterSX">
									{{ zone0_label | i18n }}:
								</td>
								<td class="detailsViewParkmeterDX">
									<table width="100%">
										<tr ng-repeat="z0 in viewParckingMeter.zones0 track by z0.id">
											<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z0.color)}"></span></td>
											<td width="85%">{{ z0.name }}<span ng-if="z0.submacro"> - {{ z0.submacro }}</span><span ng-if="z0.submicro"> - {{ z0.submicro }}</span></td>
										</tr>
									</table>
								</td>
							</tr>
							<tr ng-show="pmconf.pm_zones1.visible">	
								<td class="detailsViewParkmeterSX">
									{{ zone1_label | i18n }}:
								</td>
								<td class="detailsViewParkmeterDX">
									<table width="100%">
										<tr ng-repeat="z1 in viewParckingMeter.zones1 track by z1.id">
											<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z1.color)}"></span></td>
											<td width="85%">{{ z1.name }}<span ng-if="z1.submacro"> - {{ z1.submacro }}</span><span ng-if="z1.submicro"> - {{ z1.submicro }}</span></td>
										</tr>
									</table>
								</td>
							</tr>
							<tr ng-show="pmconf.pm_zones2.visible">	
								<td class="detailsViewParkmeterSX">
									{{ zone2_label | i18n }}:
								</td>
								<td class="detailsViewParkmeterDX">
									<table width="100%">
										<tr ng-repeat="z2 in viewParckingMeter.zones2 track by z2.id">
											<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z2.color)}"></span></td>
											<td width="85%">{{ z2.name }}<span ng-if="z2.submacro"> - {{ z2.submacro }}</span><span ng-if="z2.submicro"> - {{ z2.submicro }}</span></td>
										</tr>
									</table>
								</td>
							</tr>
							<tr ng-show="pmconf.pm_zones3.visible">	
								<td class="detailsViewParkmeterSX">
									{{ zone3_label | i18n }}:
								</td>
								<td class="detailsViewParkmeterDX">
									<table width="100%">
										<tr ng-repeat="z3 in viewParckingMeter.zones3 track by z3.id">
											<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z3.color)}"></span></td>
											<td width="85%">{{ z3.name }}<span ng-if="z3.submacro"> - {{ z3.submacro }}</span><span ng-if="z3.submicro"> - {{ z3.submicro }}</span></td>
										</tr>
									</table>
								</td>
							</tr>
							<tr ng-show="pmconf.pm_zones4.visible">	
								<td class="detailsViewParkmeterSX">
									{{ zone4_label | i18n }}:
								</td>
								<td class="detailsViewParkmeterDX">
									<table width="100%">
										<tr ng-repeat="z4 in viewParckingMeter.zones4 track by z4.id">
											<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z4.color)}"></span></td>
											<td width="85%">{{ z4.name }}<span ng-if="z4.submacro"> - {{ z4.submacro }}</span><span ng-if="z4.submicro"> - {{ z4.submicro }}</span></td>
										</tr>
									</table>
								</td>
							</tr>
				   		</table>
				   		<hr>
					   	<table width="95%">			
							<tr>
								<td width="70%" align="right">
								<td width="15%" align="center">
									<button type="button" class="btn btn-default btn-lg" ng-click="closeView()">{{ 'text_btn_close' | i18n  }}</button>	
								</td>
								<td width="15%" align="left">
									<button type="button" class="btn btn-primary btn-lg" ng-click="setPmEdit(viewParckingMeter)">{{ 'text_btn_edit' | i18n  }}</button>
								</td>
							</tr>
						</table>
					</div>
				</div>
		</div>		
	</div>
	<div ng-show="editModePM">
		<div class="col-md-12">
			<form role="form" name="form">
				<div class="panel panel-default" width="90%">
			    		<h3 class="panel-title"><strong>{{ 'edit_parkingmeter' | i18n }}</strong></h3>
			  		<div class="panel-body">	
					   	<div class="form-group" ng-show="pmconf.pm_code.visible">
					    	<label for="code">{{ 'pm_code' | i18n }}</label>
					    	<input id="code" type="text" class="form-control" name="pCode" ng-model="parckingMeter.code" ng-required="pmconf.pm_code.required" placeholder="{{ 'pm_code_placeholder' | i18n }}" ng-mousedown="saveActualCodeValue(parckingMeter.code)" ng-change="checkIfAlreadyExist(parckingMeter.code)">
					   		<div class="field-error" ng-show="!isInit && form.pCode.$error.required">{{ 'parkingmeter_code_err_required' | i18n }}</div>
					   		<div class="field-error" ng-show="isPMErrorCodeShowed()">{{ 'parkingmeter_code_err_already_exist' | i18n }}</div>
					   	</div>
					   	<div class="form-group" ng-show="pmconf.pm_note.visible">
					    	<label for="note">{{ 'pm_note' | i18n }}</label>
					    	<input id="note" type="text" class="form-control" name="pNote" ng-model="parckingMeter.note" ng-required="pmconf.pm_note.required" placeholder="{{ 'pm_note_placeholder' | i18n }}" >
					   		<div class="field-error" ng-show="!isInit && form.pNote.$error.required">{{ 'parkingmeter_note_err_required' | i18n }}</div>
					   	</div>
					   	<div class="form-group" ng-show="pmconf.pm_status.visible">
					    	<label for="status">{{ 'pm_status' | i18n }}</label>
					    	<select ng-if="isUsedItaLang()" id="status" name="pStatus" class="form-control" ng-options="s as s.descrizione for s in listaStati" ng-model="myPmStatus" ng-required="pmconf.pm_status.required">
					    		<option value="">{{ 'pm_status_placeholder' | i18n }}</option>
					    	</select>
					    	<select ng-if="isUsedEngLang()" id="status" name="pStatus" class="form-control" ng-options="s as s.descrizione_eng for s in listaStati" ng-model="myPmStatus" ng-required="pmconf.pm_status.required">
					    		<option value="">{{ 'pm_status_placeholder' | i18n }}</option>
					    	</select>
					    	<div class="field-error" ng-show="!isInit && form.pStatus.$error.required">{{ 'parkingmeter_status_select_err_required' | i18n }}</div>
					   	</div>
					   	<div class="form-group" ng-show="pmconf.pm_rateArea.visible">
					    	<label for="area">{{ 'pm_area_name' | i18n }}</label>
					    	<select id="area" name="pArea" class="form-control" ng-options="a as a.name for a in allArea" ng-model="myArea" ng-required="pmconf.pm_rateArea.required">
					    		<option value="">{{ 'pm_area_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.pArea.$error.required">{{ 'parkingmeter_area_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="pmconf.pm_zones0.visible">
					    	<label for="zone0">{{ zone0_label | i18n }}</label>
					    	<select id="zone0" name="pmZone0" class="form-control" ng-options="m as m.label for m in pmZones0 | orderBy: 'label'" ng-model="myPmZone0" ng-required="pmconf.pm_zones0.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.pmZone0.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="pmconf.pm_zones1.visible">
					    	<label for="zone1">{{ zone1_label | i18n }}</label>
					    	<select id="zone1" name="pmZone1" class="form-control" ng-options="m as m.label for m in pmZones1 | orderBy: 'label'" ng-model="myPmZone1" ng-required="pmconf.pm_zones1.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.pmZone1.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="pmconf.pm_zones2.visible">
					    	<label for="zone2">{{ zone2_label | i18n }}</label>
					    	<select id="zone2" name="pmZone2" class="form-control" ng-options="m as m.label for m in pmZones2 | orderBy: 'label'" ng-model="myPmZone2" ng-required="pmconf.pm_zones2.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.pmZone2.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="pmconf.pm_zones3.visible">
					    	<label for="zone3">{{ zone3_label | i18n }}</label>
					    	<select id="zone3" name="pmZone3" class="form-control" ng-options="m as m.label for m in pmZones3 | orderBy: 'label'" ng-model="myPmZone3" ng-required="pmconf.pm_zones3.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.pmZone3.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="pmconf.pm_zones4.visible">
					    	<label for="zone4">{{ zone4_label | i18n }}</label>
					    	<select id="zone4" name="pmZone4" class="form-control" ng-options="m as m.label for m in pmZones4 | orderBy: 'label'" ng-model="myPmZone4" ng-required="pmconf.pm_zones4.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.pmZone4.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group">
					    	<label for="geometry" ng-show="pmconf.pm_geometry.visible">{{ 'pm_geometry' | i18n }}</label>
					    	<input id="geometry" type="text" class="form-control" name="pGeometry" ng-model="myGeometry" ng-required="pmconf.pm_geometry.required" ng-pattern="gpsPos" placeholder="{{ 'pm_geo_placeholder' | i18n }}" ng-show="pmconf.pm_geometry.visible" >
					   		<div class="field-error" ng-show="!isInit && form.pArea.$error.pattern">{{ 'parkingmeter_geometry_select_err_pattern' | i18n }}</div>
							<div class="field-error" ng-show="!isInit && form.pArea.$error.required">{{ 'parkingmeter_geometry_select_err_required' | i18n }}</div>
						</div>
						<div class="col-md-12" >
							<map id="editPm" center="{{ mapOption.center }}" zoom="{{ mapOption.zoom }}" width="100%" style="height: 400px" on-click="addNewPmMarker()" >
								<marker ng-repeat="pm in newPmMarkers" id="{{ pm.id }}" position="{{ pm.pos }}" icon="{{ pm.icon }}" visible="{{ pm.options.visible }}" draggable="{{ pm.options.draggable }}" on-dragend="updatePmPos()" ><!-- on-drag="updatePos()" -->
								</marker>
								<marker ng-repeat="pm in editPmMarkers" id="{{ pm.id }}" position="{{ pm.pos }}" icon="{{ pm.icon }}" visible="{{ pm.options.visible }}" draggable="{{ pm.options.draggable }}" on-dragend="updatePmPos()" ><!-- on-drag="updatePos()" -->
								</marker>
							</map>
						</div>
					</div>
					<div class="field-error" ng-show="showUpdatingErrorMessage">{{ 'err_in_update_parkingmeter' | i18n }}</div>
			   		<table width="97%">			
					   	<tr>
					   		<td width="85%"></td>
					   		<td width="8%" align="center">
					   			<button type="button" class="btn btn-default btn-lg" ng-click="closeView()">{{ 'text_btn_close' | i18n  }}</button>
					   		</td>
					   		<td width="7%" align="right">
					   			<button type="button" class="btn btn-primary btn-lg" ng-click="updatePmeter(form, parckingMeter, myPmStatus, myArea, myGeometry, myPmZone0, myPmZone1, myPmZone2, myPmZone3, myPmZone4, 0)" ng-show="isEditing">{{ 'text_btn_save' | i18n  }}</button>
					   			<button type="button" class="btn btn-primary btn-lg" ng-click="createPmeter(form, parckingMeter, myPmStatus, myArea, myGeometry, myPmZone0, myPmZone1, myPmZone2, myPmZone3, myPmZone4)" ng-show="!isEditing">{{ 'text_btn_save' | i18n  }}</button>
					   		</td>
						</tr>
						<tr>
							<td colspan="3">&nbsp;</td>
						</tr>
					</table>
			   	</div>  	
		   	</form>
	   	</div>
	</div>
</div>			