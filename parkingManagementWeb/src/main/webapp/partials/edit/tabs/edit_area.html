<div class="row">
	<div ng-show="!editModeA"><!-- && !viewModeA -->
		<div class="col-md-6" ><!-- id="map_canvas" ng-show="areaMapReady" -->
			<map id="viewArea" class="angular-google-map-container" center="{{ mapOption.center }}" zoom="{{ mapOption.zoom }}" styles="{{ mapOption.styles }}" width="100%" ><!-- ng-show="resizeMap()" -->
				<shape name="polygon" ng-repeat="a in polygons" id="{{ a.id }}" path="{{ a.gpath }}" visible="{{ a.visible }}"
         			geodesic="{{ a.geodesic }}" stroke-color="{{ a.stroke.color }}" stroke-opacity="1.0" stroke-weight="{{ a.stroke.weight }}"
         			fill-color="{{ a.fill.color }}" fill-opacity="{{ a.fill.opacity }}" on-click="showInfoWindow(event, a.info_windows_cod)"><!-- closeAllInfoWindows(); -->
     				<info-window id="{{ a.info_windows_cod }}" data-position="{{ a.info_windows_pos }}" visible-on-marker="{{ a.id }}" >
				        <div ng-non-bindable="">
				          	<div id="siteNotice"></div>
				          	<h4 id="firstHeading" class="firstHeading"><span ng-show="aconf.a_name.visible">{{ a.data.name }}</span>&nbsp;&nbsp;&nbsp;
				          	</h4>
					        <div id="bodyContent">
					        	<table>
									<tr ng-show="aconf.a_fee.visible">	
										<td width="45%"><strong>{{ 'area_rate' | i18n }}:</strong></td>
										<!-- <td width="55%">{{ a.data.fee }}</td> -->
										<td width="55%">
											<div ng-repeat="r in a.data.validityPeriod">
												<span>{{ r.rateValue | centToeuroVal }} {{ 'euro_hour' | i18n }} : </span>
												<span>{{ 'area_rate_period_startdate' | i18n }} {{ r.from }} {{ 'area_rate_period_enddate' | i18n }} {{ r.to }}</span></br>
												<span>{{ 'area_rate_period_hours' | i18n }}: {{ getCorrectTimeSlotsToString(r.timeSlots) }};</span>
												<span ng-repeat="d in getWeekDaysFromArray(r.weekDays, 0)">{{ d | i18n }};&nbsp</span>
												<span ng-show="r.holiday">{{ 'area_rate_is_holidays' | i18n }}</span>
											</div>
										</td>
									</tr>
									<!-- <tr ng-show="aconf.a_timeSlot.visible">	
										<td width="45%"><strong>{{ 'area_time' | i18n }}:</strong></td>
										<td width="55%">{{ a.data.timeSlot }}</td>
									</tr> -->
									<tr ng-show="aconf.a_smsCode.visible">	
										<td width="45%"><strong>{{ 'area_sms' | i18n }}:</strong></td>
										<td width="55%">{{ a.data.smsCode }}</td>
									</tr>
									<tr ng-show="aconf.a_note.visible">	
										<td><strong>{{ 'area_note' | i18n }}:</strong></td>
										<td>{{ a.data.note }}</td>
									</tr>
									<tr ng-show="aconf.a_color.visible">
										<td width="45%"><strong>{{ 'area_color' | i18n }}</strong></td>
										<td width="55%"><span class="colorBox" ng-style="{'background-color': correctColor(a.data.color)}"></span></td>
									</tr>
									<tr ng-if="aconf.a_zones0.visible">
										<td>
											<strong>{{ zone0_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z0 in a.data.zones0 track by z0.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z0.color)}"></span></td>
													<td width="80%">{{ z0.name }}<span ng-if="z0.submacro"> - {{ z0.submacro }}</span><span ng-if="z0.submicro"> - {{ z0.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="aconf.a_zones1.visible">
										<td>
											<strong>{{ zone1_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z1 in a.data.zones1 track by z1.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z1.color)}"></span></td>
													<td width="80%">{{ z1.name }}<span ng-if="z1.submacro"> - {{ z1.submacro }}</span><span ng-if="z1.submicro"> - {{ z1.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="aconf.a_zones2.visible">	
										<td>
											<strong>{{ zone2_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z2 in a.data.zones2 track by z2.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z2.color)}"></span></td>
													<td width="80%">{{ z2.name }}<span ng-if="z2.submacro"> - {{ z2.submacro }}</span><span ng-if="z2.submicro"> - {{ z2.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="aconf.a_zones3.visible">	
										<td>
											<strong>{{ zone3_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z3 in a.data.zones3 track by z3.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z3.color)}"></span></td>
													<td width="80%">{{ z3.name }}<span ng-if="z3.submacro"> - {{ z3.submacro }}</span><span ng-if="z3.submicro"> - {{ z3.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="aconf.a_zones4.visible">	
										<td>
											<strong>{{ zone4_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z4 in a.data.zones4 track by z4.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z4.color)}"></span></td>
													<td width="80%">{{ z4.name }}<span ng-if="z4.submacro"> - {{ z4.submacro }}</span><span ng-if="z4.submicro"> - {{ z4.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr>
										<td colspan="2" align="right">
											<hr/>
										</td>
									</tr>
									<tr>
										<td colspan="2" class="info_window_buttons">
											<a ng-show="(areaPermissions >= 2) && isMyAgency(a.data.agencyId)" href type="button" class="btn btn-primary" ng-click="setAEdit(a.data)"  alt="{{ 'link_edit_title' | i18n }}" title="{{ 'link_edit_title' | i18n }}">{{ 'btn_edit_text' | i18n }}</a>&nbsp;
											<a ng-show="(areaPermissions >= 3) && isMyAgency(a.data.agencyId)" href type="button" class="btn btn-danger" ng-click="setARemove(a.data)" alt="{{ 'link_remove_title' | i18n }}" title="{{ 'link_remove_title' | i18n }}">{{ 'btn_delete_text' | i18n }}</a>
										</td>
									</tr>
					        	</table>
					        </div>
				        </div>
				    </info-window>
    			</shape>
    			<shape name="polygon" ng-repeat="a in mySpecialAreas" id="{{ a.id }}" path="{{ a.gpath }}" visible="{{ a.visible }}"
         			geodesic="{{ a.geodesic }}" stroke-color="{{ a.stroke.color }}" stroke-opacity="1.0" stroke-weight="{{ a.stroke.weight }}"
         			fill-color="{{ a.fill.color }}" fill-opacity="{{ a.fill.opacity }}" on-click="showInfoWindow(event, a.info_windows_cod)">
     				<info-window id="{{ a.info_windows_cod }}" data-position="{{ a.info_windows_pos }}" visible-on-marker="{{ a.id }}">
				        <div ng-non-bindable="">
				          	<div id="siteNotice"></div>
				          	<h4 id="firstHeading" class="firstHeading"><span ng-show="aconf.a_name.visible">{{ a.data.name }}</span></h4>
					        <div id="bodyContent">
					        	<table>
									<tr ng-show="aconf.a_fee.visible">	
										<td width="45%"><strong>{{ 'area_rate' | i18n }}:</strong></td>
										<!-- <td width="55%">{{ a.data.fee }}</td> -->
										<td width="55%">
											<div ng-repeat="r in a.data.validityPeriod">
												<span>{{ r.rateValue | centToeuroVal }} {{ 'euro_hour' | i18n }} : </span>
												<span>{{ 'area_rate_period_startdate' | i18n }} {{ r.from }} {{ 'area_rate_period_enddate' | i18n }} {{ r.to }}</span></br>
												<span>{{ 'area_rate_period_hours' | i18n }}: {{ r.timeSlot }};</span>
												<span ng-repeat="d in getWeekDaysFromArray(r.weekDays, 0)">{{ d | i18n }};&nbsp</span>
												<span ng-show="r.holiday">{{ 'area_rate_is_holidays' | i18n }}</span>
											</div>
										</td>
									</tr>
									<!-- <tr ng-show="aconf.a_timeSlot.visible">	
										<td width="45%"><strong>{{ 'area_time' | i18n }}:</strong></td>
										<td width="55%">{{ a.data.timeSlot }}</td>
									</tr> -->
									<tr ng-show="aconf.a_smsCode.visible">	
										<td width="45%"><strong>{{ 'area_sms' | i18n }}:</strong></td>
										<td width="55%">{{ a.data.smsCode }}</td>
									</tr>
									<tr ng-show="aconf.a_note.visible">	
										<td><strong>{{ 'area_note' | i18n }}:</strong></td>
										<td>{{ a.data.note }}</td>
									</tr>
									<tr ng-show="aconf.a_color.visible">	
										<td width="45%"><strong>{{ 'area_color' | i18n }}</strong></td>
										<td width="55%"><span class="colorBox" ng-style="{'background-color': correctColor(a.data.color)}"></span></td>
									</tr>
									<tr ng-if="aconf.a_zones0.visible">	
										<td>
											<strong>{{ zone0_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z0 in a.zones0 track by z0.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z0.color)}"></span></td>
													<td width="80%">{{ z0.name }}<span ng-if="z0.submacro"> - {{ z0.submacro }}</span><span ng-if="z0.submicro"> - {{ z0.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="aconf.a_zones1.visible">	
										<td>
											<strong>{{ zone1_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z1 in a.zones1 track by z1.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z1.color)}"></span></td>
													<td width="80%">{{ z1.name }}<span ng-if="z1.submacro"> - {{ z1.submacro }}</span><span ng-if="z1.submicro"> - {{ z1.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="aconf.a_zones2.visible">	
										<td>
											<strong>{{ zone2_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z2 in a.zones2 track by z2.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z2.color)}"></span></td>
													<td width="80%">{{ z2.name }}<span ng-if="z2.submacro"> - {{ z2.submacro }}</span><span ng-if="z2.submicro"> - {{ z2.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="aconf.a_zones3.visible">	
										<td>
											<strong>{{ zone3_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z3 in a.zones3 track by z3.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z3.color)}"></span></td>
													<td width="80%">{{ z3.name }}<span ng-if="z3.submacro"> - {{ z3.submacro }}</span><span ng-if="z3.submicro"> - {{ z3.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="aconf.a_zones4.visible">	
										<td>
											<strong>{{ zone4_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z4 in a.zones4 track by z4.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z4.color)}"></span></td>
													<td width="80%">{{ z4.name }}<span ng-if="z4.submacro"> - {{ z4.submacro }}</span><span ng-if="z4.submicro"> - {{ z4.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr>
										<td colspan="2" align="right">
											<hr/>
										</td>
									</tr>
									<tr>
										<td colspan="2" class="info_window_buttons">
											<a ng-show="(areaPermissions >= 2) && isMyAgency(a.data.agencyId)" href type="button" class="btn btn-primary" ng-click="setAEdit(a.data)"  alt="{{ 'link_edit_title' | i18n }}" title="{{ 'link_edit_title' | i18n }}">{{ 'btn_edit_text' | i18n }}</a>&nbsp;
											<a ng-show="(areaPermissions >= 3) && isMyAgency(a.data.agencyId)" href type="button" class="btn btn-danger" ng-click="setARemove(a.data)" alt="{{ 'link_remove_title' | i18n }}" title="{{ 'link_remove_title' | i18n }}">{{ 'btn_delete_text' | i18n }}</a>
										</td>
									</tr>
					        	</table>
					        </div>
				        </div>
				    </info-window>
    			</shape>
			</map>	
		</div>
		<div class="col-md-6" ng-show="!viewModeA">
			<div class="panel panel-success" align="center">
				<div class="panel-heading">
					<table width="100%">
						<tr>
							<td align="left"><h5 class="panel-title">{{ 'area_list' | i18n }}</h5></td>
							<td align="right"><button ng-show="areaPermissions >= 3" type="button" class="btn btn-success" ng-click="setAEdit(null)">{{ 'add_new_object' | i18n }}</button></td>
						</tr>
					</table>
				</div>
				<div class="panel-body">
					<div class="field-error" ng-show="showDeletingAErrorMessage">{{ 'err_in_delete_area' | i18n }}</div>
					<div class="tablewrapper">
						<table class="table table-striped" style="width: 100%">
							<tr ng-show="areaWS.length != 0">
								<th width="15%">
									<span ng-show="aconf.a_name.visible">{{ 'agency_title' | i18n }}</span>
									<a href ng-click="showAgencyAFilter();currentPageA=0" ng-show="!showAgencyAreaFilter" alt="{{ 'filter_agency_title' | i18n }}" title="{{ 'filter_agency_title' | i18n }}"><i class="glyphicon glyphicon-filter"></i></a>
									<a href ng-click="agencyAreaFilter=null;hideAgencyAFilter()" ng-show="showAgencyAreaFilter" alt="{{ 'filter_agency_title' | i18n }}" title="{{ 'filter_agency_title' | i18n }}"><i class="glyphicon glyphicon-remove"></i></a>
									<div ng-show="showAgencyAreaFilter">
						    			<select id="f_agency_area" class="form-control" ng-model="agencyAreaFilter">
						    				<option ng-repeat="a in allAgencyFilter" value="{{a.id}}" >{{ a.name }}</option>
						    			</select>
						    		</div>
								</th>
								<th width="20%">
									<span ng-show="aconf.a_name.visible">{{ 'area_name' | i18n }}</span>&nbsp;
									<a href ng-click="showAreaNameFilter();currentPageA=0" ng-show="!showAreaNFilter" alt="{{ 'filter_name_title' | i18n }}" title="{{ 'filter_name_title' | i18n }}"><i class="glyphicon glyphicon-search"></i></a>
									<a href ng-click="nameFilter=null;hideAreaNameFilter()" ng-show="showAreaNFilter" alt="{{ 'filter_name_title' | i18n }}" title="{{ 'filter_name_title' | i18n }}"><i class="glyphicon glyphicon-remove"></i></a>
									<div ng-show="showAreaNFilter">
						    	 		<input type="search" ng-model="nameFilter" placeholder="{{ 'filter_name_text' | i18n }}" ng-change="currentPageA = 0" />
						    		</div>
								</th>
								<!-- <th width="14%"><span ng-show="aconf.a_fee.visible">{{ 'area_rate' | i18n }}</span></th>
								<th width="31%"><span ng-show="aconf.a_timeSlot.visible">{{ 'area_time' | i18n }}</span></th> -->
								<th width="38%"><span ng-show="aconf.a_fee.visible">{{ 'area_rate' | i18n }}</span></th>
								<th class="myCenter" width="4%"><span ng-show="aconf.a_color.visible">{{ 'area_color' | i18n }}</span></th>
								<th class="myCenter" width="23%">{{ 'operations' | i18n }}</th>
							</tr>
							<tbody class="animate-repeat"
								ng-repeat="area in filtered = (areaWS | filter:nameFilter | filter: agencyAreaFilter) | orderBy:'name' | startFrom:currentPageA*maxAreas | limitTo:maxAreas">
								<tr>
									<td align="left">
										<span ng-show="isMyAgency(area.agencyId)"><i class="glyphicon glyphicon-user"></i></span>
										<span ng-show="!isMyAgency(area.agencyId)">{{ area.agencyId | agencyCodeToName }}</span>
									</td>
									<td align="left">
										<span ng-show="aconf.a_name.visible">{{area.name}}</span>
									</td>
									<!-- <td width="14%" align="left"><span ng-show="aconf.a_fee.visible">{{area.fee | euroVal}} {{ 'euro_hour' | i18n }}</span></td>
									<td width="31%" align="left"><span ng-show="aconf.a_timeSlot.visible">{{area.timeSlot}}</span></td> -->
									<td align="left">
										<div ng-repeat="r in area.validityPeriod">
											<span>{{ r.rateValue | centToeuroVal }} {{ 'euro_hour' | i18n }} : </span>
											<!-- <span>{{ r.from }} - {{ r.to }}</span> -->
											<span>{{ r.timeSlot }}</span>
											<!-- <span ng-repeat="d in getWeekDaysFromArray(r.weekDays, 0)">{{ d | i18n }};&nbsp</span> -->
											<span ng-show="r.holiday">{{ 'area_rate_is_holidays' | i18n }}</span>
										</div>
										<!-- <span ng-show="aconf.a_fee.visible">{{area.fee | euroVal}} {{ 'euro_hour' | i18n }}</span> -->
									</td>
									<td align="center"><div class="colorBox" ng-show="aconf.a_color.visible" ng-style="{'background-color': correctColor(area.color)}"></div></td>
									<td align="center">
										<a ng-show="(areaPermissions >= 1) || !isMyAgency(area.agencyId)" href type="button" class="btn btn-primary btn-xs" ng-click="setADetails(area)" alt="{{ 'link_view_title' | i18n }}" title="{{ 'link_view_title' | i18n }}"><i class="glyphicon glyphicon-eye-open"></i></a>&nbsp;
										<a ng-show="(areaPermissions >= 2) && isMyAgency(area.agencyId)" href type="button" class="btn btn-primary btn-xs" ng-click="setAEdit(area)"  alt="{{ 'link_edit_title' | i18n }}" title="{{ 'link_edit_title' | i18n }}"><i class="glyphicon glyphicon-pencil"></i></a>&nbsp;
										<a ng-show="(areaPermissions >= 3) && isMyAgency(area.agencyId)" href type="button" class="btn btn-primary btn-xs" ng-click="setARemove(area)" alt="{{ 'link_remove_title' | i18n }}" title="{{ 'link_remove_title' | i18n }}"><i class="glyphicon glyphicon-trash"></i></a>
									</td>
								</tr>
							</tbody>
							<tr ng-show="areaWS.length == 0">
								<td colspan="4"><strong>{{ 'no_areas_in_lists' | i18n }}</strong></td>
							</tr>
						</table>
					</div>
					<button class="btn btn-default"
							ng-disabled="currentPageA == 0"
							ng-click="currentPageA=currentPageA-1">{{ 'previous_label' | i18n }}</button>
						{{currentPageA+1}}/{{numberOfPages(1, filtered)}}
					<button class="btn btn-default"
							ng-disabled="currentPageA >= filtered.length/maxAreas - 1"
							ng-click="currentPageA=currentPageA+1">{{ 'next_label' | i18n }}</button>
				</div>
			</div>
		</div>
		<div class="col-md-6" ng-show="viewModeA">
			<div class="panel panel-default" width="90%">
		   		<div class="panel-heading">
		    		<h3 class="panel-title"><strong>{{ 'view_area' | i18n }}</strong></h3>
		  		</div>
		  		<div class="panel-body">	
		  			<table width="100%">
						<tr ng-show="aconf.a_name.visible">
							<td class="detailsViewAreaSX">{{ 'area_name' | i18n }}:</td>
							<td class="detailsViewAreaDX">{{ viewArea.name }}</td>
						</tr>
						<tr ng-show="aconf.a_fee.visible">	
							<td class="detailsViewAreaSX">{{ 'area_rate' | i18n }}:</td>
							<!-- <td class="detailsViewAreaDX">{{ viewArea.fee | euroVal }} {{ 'euro_hour' | i18n }}</td> -->
							<td class="detailsViewAreaDX">
								<div ng-repeat="r in viewArea.validityPeriod">
									<span>{{ r.rateValue | centToeuroVal }} {{ 'euro_hour' | i18n }} : </span>
									<span>{{ 'area_rate_period_startdate' | i18n }} {{ r.from }} {{ 'area_rate_period_enddate' | i18n }} {{ r.to }}</span></br>
									<span>{{ 'area_rate_period_hours' | i18n }}: {{ r.timeSlot }};</span>
									<span ng-repeat="d in getWeekDaysFromArray(r.weekDays, 0)">{{ d | i18n }};&nbsp</span>
									<span ng-show="r.holiday">{{ 'area_rate_is_holidays' | i18n }}</span>
								</div>
							</td>
						</tr>
						<!-- <tr ng-show="aconf.a_timeSlot.visible">	
							<td class="detailsViewAreaSX">{{ 'area_time' | i18n }}:</td>
							<td class="detailsViewAreaDX">{{ viewArea.timeSlot }}</td>
						</tr> -->
						<tr ng-show="aconf.a_smsCode.visible">	
							<td class="detailsViewAreaSX">{{ 'area_sms' | i18n }}:</td>
							<td class="detailsViewAreaDX">{{ viewArea.smsCode }}</td>
						</tr>
						<tr ng-show="aconf.a_note.visible">	
							<td class="detailsViewAreaSX">{{ 'area_note' | i18n }}:</td>
							<td class="detailsViewAreaDX">{{ viewArea.note }}</td>
						</tr>
						<tr ng-show="aconf.a_color.visible">	
							<td class="detailsViewAreaSX">{{ 'area_color' | i18n }}</td>
							<td class="detailsViewAreaDX"><span class="colorBox" ng-style="{'background-color': correctColor(viewArea.color)}"></span></td>
						</tr>
						<tr ng-show="aconf.a_geometry.visible">	
							<td class="detailsViewAreaSX">{{ 'area_geometry' | i18n }}</td>
							<td class="detailsViewAreaDX">{{ myPolGeometry }}</td>
						</tr>
						<tr ng-show="aconf.a_zones0.visible">
							<td class="detailsViewAreaSX">
								{{ zone0_label | i18n }}:
							</td>
							<td class="detailsViewAreaDX">
								<table width="100%">
									<tr ng-repeat="z0 in viewArea.zones0 track by z0.id">
										<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z0.color)}"></span></td>
										<td width="85%">{{ z0.name }}<span ng-if="z0.submacro"> - {{ z0.submacro }}</span><span ng-if="z0.submicro"> - {{ z0.submicro }}</span></td>
									</tr>
								</table>
							</td>
						</tr>
						<tr ng-show="aconf.a_zones1.visible">	
							<td class="detailsViewAreaSX">
								{{ zone1_label | i18n }}:
							</td>
							<td class="detailsViewAreaDX">
								<table width="100%">
									<tr ng-repeat="z1 in viewArea.zones1 track by z1.id">
										<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z1.color)}"></span></td>
										<td width="85%">{{ z1.name }}<span ng-if="z1.submacro"> - {{ z1.submacro }}</span><span ng-if="z1.submicro"> - {{ z1.submicro }}</span></td>
									</tr>
								</table>
							</td>
						</tr>
						<tr ng-show="aconf.a_zones2.visible">	
							<td class="detailsViewAreaSX">
								{{ zone2_label | i18n }}:
							</td>
							<td class="detailsViewAreaDX">
								<table width="100%">
									<tr ng-repeat="z2 in viewArea.zones2 track by z2.id">
										<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z2.color)}"></span></td>
										<td width="85%">{{ z2.name }}<span ng-if="z2.submacro"> - {{ z2.submacro }}</span><span ng-if="z2.submicro"> - {{ z2.submicro }}</span></td>
									</tr>
								</table>
							</td>
						</tr>
						<tr ng-show="aconf.a_zones3.visible">	
							<td class="detailsViewAreaSX">
								{{ zone3_label | i18n }}:
							</td>
							<td class="detailsViewAreaDX">
								<table width="100%">
									<tr ng-repeat="z3 in viewArea.zones3 track by z3.id">
										<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z3.color)}"></span></td>
										<td width="85%">{{ z3.name }}<span ng-if="z3.submacro"> - {{ z3.submacro }}</span><span ng-if="z3.submicro"> - {{ z3.submicro }}</span></td>
									</tr>
								</table>
							</td>
						</tr>
						<tr ng-show="aconf.a_zones4.visible">	
							<td class="detailsViewAreaSX">
								{{ zone4_label | i18n }}:
							</td>
							<td class="detailsViewAreaDX">
								<table width="100%">
									<tr ng-repeat="z4 in viewArea.zones4 track by z4.id">
										<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z4.color)}"></span></td>
										<td width="85%">{{ z4.name }}<span ng-if="z4.submacro"> - {{ z4.submacro }}</span><span ng-if="z4.submicro"> - {{ z4.submicro }}</span></td>
									</tr>
								</table>
							</td>
						</tr>
			   		</table>
			   		<hr>
				   	<table width="95%">			
						<tr>
							<td width="70%" align="right"></td>
							<td width="15%" align="center">
								<button type="button" class="btn btn-default btn-lg" ng-click="closeAView()">{{ 'text_btn_close' | i18n  }}</button>	
							</td>
							<td width="15%" align="center">
								<button ng-show="(areaPermissions >= 2) && isMyAgency(area.agencyId)" type="button" class="btn btn-primary btn-lg" ng-click="setAEdit(viewArea)">{{ 'text_btn_edit' | i18n  }}</button>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div ng-show="editModeA">
		<div class="col-md-12">
			<form role="form" name="form">
				<div class="panel panel-default" width="90%">
			    	<h3 class="panel-title" ng-show="isEditing"><strong>{{ 'edit_area' | i18n }}</strong></h3>
			  		<h3 class="panel-title" ng-show="!isEditing"><strong>{{ 'create_area' | i18n }}</strong></h3>
			  		<div class="panel-body">
			  			<div class="col-md-12"><!-- id="map_canvas" ng-show="!isEditing" -->
			  				<div id="panelMap" align ="center" ng-show="!isEditing">
			  					<button ng-click="addNewAreaPath()" type="button" class="btn btn-default" >{{ 'btn_add_new_polygon' | i18n }}</button>
								<button ng-click="removeAllNewPolygons()" type="button" class="btn btn-default" >{{ 'btn_remove_all_polygons' | i18n }}</button>
	        					<button ng-click="removeLastNewPolygon()" type="button" class="btn btn-default" >{{ 'btn_remove_last_polygons' | i18n }}</button>
							</div>
							<map id="editArea" center="{{ mapOption.center }}" zoom="{{ mapOption.zoom }}" styles="{{ mapOption.styles }}" width="100%" style="height: 400px" on-click="addAreaPath()" on-rightclick="addNewAreaPath()" >
				    			<shape name="polygon" ng-repeat="eA in editGAreas" id="{{ eA.id }}" path="{{ eA.gpath }}" visible="{{ eA.visible }}" editable="{{ eA.editable }}" draggable="{{ eA.draggable }}"
				         			geodesic="{{ eA.geodesic }}" stroke-color="#000000" stroke-opacity="1.0" stroke-weight="{{ eA.stroke.weight }}" on-rightclick="removeAreaPath(event, eA)"
				         			fill-color="#000000" fill-opacity="{{ eA.fill.opacity }}">
				    			</shape>
							</map>
						</div>
						<div class="form-group" >
					    	<label for="geometryN" ng-show="aconf.a_geometry.visible">{{ 'area_geometry' | i18n }}</label>
					    	<input id="geometryN" type="text" class="form-control" name="aGeometry" ng-model="myPolGeometry" ng-required="aconf.a_geometry.required" ng-show="aconf.a_geometry.visible" >
					   		<div class="field-error" ng-show="!isInit && form.aGeometry.$error.pattern">{{ 'area_geometry_err_pattern' | i18n }}</div>
					   		<div class="field-error" ng-show="!isInit && form.aGeometry.$error.required">{{ 'area_geometry_err_required' | i18n }}</div>
						</div>
					   	<div class="form-group" ng-show="aconf.a_name.visible">
					    	<label for="name">{{ 'area_name' | i18n }}</label>
					    	<input id="name" type="text" class="form-control" name="aName" ng-model="area.name" ng-required="aconf.a_name.required" placeholder="{{ 'area_name_placeholder' | i18n }}" >
					   		<div class="field-error" ng-show="!isInit && form.aName.$error.required">{{ 'area_name_err_required' | i18n }}</div>
					   	</div>
					   	
					   	<div class="form-group" ng-show="aconf.a_name.visible">
					   		<label for="name">{{ 'area_period_label' | i18n }}</label>
					   		<div class="panel-body" ng-show="!tabletWiew">		
				  				<div ng-show="isPeriodFormVisible">
							  		<table  width="100%">
										<tr valign="bottom">
											<th width="7%">{{ 'area_rate_period_startdate' | i18n }}</th>
											<th width="7%">{{ 'area_rate_period_enddate' | i18n }}</th>
											<th width="30%">{{ 'area_rate_period_weekdays' | i18n }}</th>
											<th width="16%">{{ 'area_rate_period_hours' | i18n }}</th>
											<th width="10%">{{ 'area_rate_value' | i18n }}</th>
											<th width="5%">{{ 'area_rate_is_holidays' | i18n }}</th>
											<th width="20%">{{ 'area_rate_note' | i18n }}</th>
											<th width="5%"></th>
										</tr>
										<tr>
											<td>
							  					<!-- <input id="fromDate" name="pFromDate" type="text" class="form-control" datepicker-popup="{{format}}" placeholder="{{getPlaceHolder()}}" ng-model="pr.from" is-open="rStoricoResFromDate.open" ng-click="rStoricoResFromDate.open = true" datepicker-options="dateOptions" datepicker-mode="dateOptions.datepickerMode" max-mode="dateOptions.maxMode" current-text="{{ 'datepicker_button_today' | i18n }}" clear-text="{{ 'datepicker_button_canc' | i18n }}" close-text="{{ 'datepicker_button_close' | i18n }}" show-weeks="false" required /> -->
							  					<input id="fromDate" name="pFromDate" type="text" class="form-control" placeholder="{{getPlaceHolder()}}" ng-model="pr.from" ng-pattern="dateDDMMPatternIt" required />
								    		</td>
								    		<td>
												<!-- <input id="toDate" name="pToDate" type="text" class="form-control" datepicker-popup="{{format}}" placeholder="{{getPlaceHolder()}}" ng-model="pr.to" is-open="rStoricoResToDate.open" ng-click="rStoricoResToDate.open = true" datepicker-options="dateOptions" current-text="{{ 'datepicker_button_today' | i18n }}" clear-text="{{ 'datepicker_button_canc' | i18n }}" close-text="{{ 'datepicker_button_close' | i18n }}" show-weeks="false" required /> -->
												<input id="toDate" name="pToDate" type="text" class="form-control" placeholder="{{getPlaceHolder()}}" ng-model="pr.to" ng-pattern="dateDDMMPatternIt" required />
											</td>
											<td align="center">
												<label>{{ 'period_monday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[0]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<label>{{ 'period_tuesday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[1]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<label>{{ 'period_wednesday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[2]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<label>{{ 'period_thursday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[3]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<!-- <br/> -->
												<label>{{ 'period_friday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[4]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<label>{{ 'period_saturday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[5]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<label>{{ 'period_sunday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[6]" ng-required="!someSelectedDay(pr.weekDays)"></label>
								    		</td>
								    		<td>
												<input id="time" type="text" class="form-control" name="pTime" ng-model="pr.timeSlot" ng-required="aconf.a_timeSlot.required" ng-pattern="periodPattern" placeholder="{{ 'area_time_placeholder' | i18n }}" >
								    		</td>
								    		<td>
												<input id="fee" type="text" class="form-control" name="pFee" ng-model="pr.rateValue" ng-required="aconf.a_fee.required" ng-pattern="decimalNumbers" placeholder="{{ 'area_fee_placeholder' | i18n }}" >
								    		</td>
								    		<td align="center">
												<input type="checkbox" id="is_holiday" ng-model="pr.holiday" name="pIsHoliday" class="form-control">
								    		</td>
								    		<td>
												<input id="note" type="text" class="form-control" name="pNote" ng-model="pr.note" ng-required="false" placeholder="{{ 'area_rate_period_note_placeholder' | i18n }}" >
								    		</td>
											<td width="3%">
												&nbsp;
											</td>
											<td width="10%" align="right"><button type="button" class="btn btn-success" ng-click="addRatePeriod(pr, form, 0)" alt="{{ 'area_add_period_rate_text' | i18n }}" title="{{ 'area_add_period_rate_text' | i18n }}">&nbsp;<i class="glyphicon glyphicon-plus icon-white"></i>&nbsp;</button></td>
										</tr>
										<tr ng-show="(isErrorRatePeriod==true)">
											<td colspan="8"><div class="alert alert-danger">{{ errorsMessageRatePeriod }}</div></td>
										</tr>
										<tr ng-show="(isErrorRatePeriodOverlap==true)">
											<td colspan="8"><div class="alert alert-danger">{{ 'error_overlap_rate_period' | i18n }}</div></td>
										</tr>
										<tr>
											<td colspan="8">
												<div class="field-error" ng-show="!isInitPeriod && form.pFromDate.$error.pattern || notValidDateFrom">{{ 'area_rate_period_startdate_error_pattern' | i18n }}</div>
												<div class="field-error" ng-show="!isInitPeriod && form.pFromDate.$error.required">{{ 'area_rate_period_startdate_error_required' | i18n }}</div>
												<div class="field-error" ng-show="!isInitPeriod && form.pToDate.$error.pattern || notValidDateTo">{{ 'area_rate_period_enddate_error_pattern' | i18n }}</div>
												<div class="field-error" ng-show="!isInitPeriod && form.pToDate.$error.required">{{ 'area_rate_period_enddate_error_required' | i18n }}</div>
												<div class="field-error" ng-show="!isInitPeriod && form.pWeekDays.$error.required">{{ 'area_weekdays_err_required' | i18n }}</div>
												<div class="field-error" ng-show="!isInitPeriod && form.pTime.$error.required">{{ 'area_openingtime_err_required' | i18n }}</div>
					   							<div class="field-error" ng-show="!isInitPeriod && form.pTime.$error.pattern">{{ 'area_openingtime_err_pattern' | i18n }}</div>
					   							<div class="field-error" ng-show="!isInitPeriod && form.pFee.$error.required">{{ 'area_fee_err_required' | i18n }}</div>
					   							<div class="field-error" ng-show="!isInitPeriod && form.pFee.$error.pattern">{{ 'area_fee_err_pattern' | i18n }}</div>
					   							<div class="field-error" ng-show="!isInitPeriod && form.pNote.$error.required">{{ 'area_note_err_required' | i18n }}</div>
											</td>
										</tr>
									</table>
									&nbsp;
									<hr>
								</div>
						  		<table width="100%" ng-show="area.validityPeriod.length > 0">
									<tr>
										<th width="7%">{{ 'area_rate_period_startdate' | i18n }}</th>
										<th width="7%">{{ 'area_rate_period_enddate' | i18n }}</th>
										<th width="20%">{{ 'area_rate_period_weekdays' | i18n }}</th>
										<th width="16%">{{ 'area_rate_period_hours' | i18n }}</th>
										<th width="10%">{{ 'area_fee' | i18n }}</th>
										<th width="5%">{{ 'area_rate_is_holidays' | i18n }}</th>
										<th width="25%">{{ 'area_rate_note' | i18n }}</th>
										<th width="10%"></th>
									</tr>
						  			<tbody class="animate-repeat" ng-repeat="r in area.validityPeriod">
									<tr>
										<td>
								   			{{ (r.from | date:'dd/MM') }}
								   		</td>
								   		<td>
											{{ (r.to | date:'dd/MM') }}
										</td>
										<td>
											<span ng-repeat="d in getWeekDaysFromArray(r.weekDays, 0)">{{ d | i18n }};&nbsp</span>
										</td>
										<td>
											<ul class="no-margin" ng-repeat="t in getHourSlotsFromArray(r.timeSlot)">
												<li>{{ t }}</li>
											</ul>
										</td>
										<td>
											{{ r.rateValue | centToeuroVal }} {{ 'euro_hour' | i18n }}
										</td>
										<td>
											<span ng-show="r.holiday">{{ 'yes_val_select' | i18n }}</span>
											<span ng-show="!r.holiday">{{ 'no_val_select' | i18n }}</span>
										</td>
										<td>
											{{ r.note }}
										</td>
										<td align="center">
											<!-- <button type="button" class="btn btn-default btn-xs" ng-click="editRatePeriod(r)" ng-show="isPeriodFormVisible == true" alt="{{ 'area_rate_edit' | i18n }}" title="{{ 'area_rate_edit' | i18n }}" ><i class="glyphicon glyphicon-pencil"></i></button> -->
											<button type="button" class="btn btn-default btn-xs" ng-click="deleteRatePeriod(r, 0)" ng-show="isPeriodFormVisible == true" alt="{{ 'area_rate_canc' | i18n }}" title="{{ 'area_rate_canc' | i18n }}" ><i class="glyphicon glyphicon-trash"></i></button>
										</td>
									</tr>
									</tbody>
									<tr ng-show="area.validityPeriod.length > 0"><td colspan="8"><hr></td></tr>
									<tr ng-show="area.validityPeriod.length > 0">
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td align="right">
											<button type="button" class="btn btn-default" ng-click="showPForm()" alt="{{ 'area_rate_period_insert_edit' | i18n }}" title="{{ 'area_rate_period_insert_edit' | i18n }}" ng-show="!isPeriodFormVisible"><i class="glyphicon glyphicon-pencil"></i></button>
											<button type="button" class="btn btn-default" ng-click="saveAndClosePForm()" ng-show="isPeriodFormVisible == true">{{ 'ok_button' | i18n }}</button>
										</td>
									</tr>
								</table>
								<table width="100%" ng-show="area.validityPeriod.length == 0 || area.validityPeriod == null">
									<tr>
										<td colspan="7">{{ 'no_value_inserted_period' | i18n }}</td>
										<td align="right">
											<button type="button" class="btn btn-default" ng-click="showPForm()" alt="{{ 'area_rate_period_insert_edit' | i18n }}" title="{{ 'area_rate_period_insert_edit' | i18n }}" ng-show="!isPeriodFormVisible"><i class="glyphicon glyphicon-pencil"></i></button>
											<button type="button" class="btn btn-default" ng-click="saveAndClosePForm()" ng-show="isPeriodFormVisible == true">{{ 'ok_button' | i18n }}</button>
										</td>
									</tr>
								</table>
							</div>
							<div class="panel-body" ng-show="tabletWiew">		
				  				<div ng-show="isPeriodFormVisible">
							  		<table  width="100%">
										<tr valign="bottom">
											<th width="17%">{{ 'area_rate_period_startdate' | i18n }}</th>
											<th width="17%">{{ 'area_rate_period_enddate' | i18n }}</th>
											<th width="41%">{{ 'area_rate_period_weekdays' | i18n }}</th>
											<th width="25%">{{ 'area_rate_period_hours' | i18n }}</th>
										</tr>
										<tr>
											<td>
							  					<!-- <input id="fromDate" name="pFromDate" type="text" class="form-control" datepicker-popup="{{format}}" placeholder="{{getPlaceHolder()}}" ng-model="pr.from" is-open="rStoricoResFromDate.open" ng-click="rStoricoResFromDate.open = true" datepicker-options="dateOptions" datepicker-mode="dateOptions.datepickerMode" max-mode="dateOptions.maxMode" current-text="{{ 'datepicker_button_today' | i18n }}" clear-text="{{ 'datepicker_button_canc' | i18n }}" close-text="{{ 'datepicker_button_close' | i18n }}" show-weeks="false" required /> -->
							  					<input id="fromDate" name="pFromDate" type="text" class="form-control" placeholder="{{getPlaceHolder()}}" ng-model="pr.from" ng-pattern="dateDDMMPatternIt" required />
								    		</td>
								    		<td>
												<!-- <input id="toDate" name="pToDate" type="text" class="form-control" datepicker-popup="{{format}}" placeholder="{{getPlaceHolder()}}" ng-model="pr.to" is-open="rStoricoResToDate.open" ng-click="rStoricoResToDate.open = true" datepicker-options="dateOptions" current-text="{{ 'datepicker_button_today' | i18n }}" clear-text="{{ 'datepicker_button_canc' | i18n }}" close-text="{{ 'datepicker_button_close' | i18n }}" show-weeks="false" required /> -->
												<input id="toDate" name="pToDate" type="text" class="form-control" placeholder="{{getPlaceHolder()}}" ng-model="pr.to" ng-pattern="dateDDMMPatternIt" required />
											</td>
											<td>
												<label>{{ 'period_monday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[0]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<label>{{ 'period_tuesday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[1]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<label>{{ 'period_wednesday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[2]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<label>{{ 'period_thursday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[3]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<!-- <br/> -->
												<label>{{ 'period_friday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[4]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<label>{{ 'period_saturday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[5]" ng-required="!someSelectedDay(pr.weekDays)"></label>
												<label>{{ 'period_sunday' | i18n }}:<input type="checkbox" name="pWeekDays" ng-model="pr.weekDays[6]" ng-required="!someSelectedDay(pr.weekDays)"></label>
								    		</td>
								    		<td>
												<input id="time" type="text" class="form-control" name="pTime" ng-model="pr.timeSlot" ng-required="aconf.a_timeSlot.required" ng-pattern="periodPattern" placeholder="{{ 'area_time_placeholder' | i18n }}" >
								    		</td>
										</tr>
										<tr>	
											<td><strong>{{ 'area_rate_value' | i18n }}</strong></td>
											<td><strong>{{ 'area_rate_is_holidays' | i18n }}</strong></td>
											<td><strong>{{ 'area_rate_note' | i18n }}</strong></td>
											<td></td>
										</tr>
										<tr>
								    		<td>
												<input id="fee" type="text" class="form-control" name="pFee" ng-model="pr.rateValue" ng-required="aconf.a_fee.required" ng-pattern="decimalNumbers" placeholder="{{ 'area_fee_placeholder' | i18n }}" >
								    		</td>
								    		<td align="center">
												<input type="checkbox" id="is_holiday" ng-model="pr.holiday" name="pIsHoliday" class="form-control">
								    		</td>
								    		<td>
												<input id="note" type="text" class="form-control" name="pNote" ng-model="pr.note" ng-required="false" placeholder="{{ 'area_rate_period_note_placeholder' | i18n }}" >
								    		</td>
											<td align="right"><button type="button" class="btn btn-success" ng-click="addRatePeriod(pr, form, 0)" alt="{{ 'area_add_period_rate_text' | i18n }}" title="{{ 'area_add_period_rate_text' | i18n }}">&nbsp;<i class="glyphicon glyphicon-plus icon-white"></i>&nbsp;</button></td>
										</tr>
										<tr ng-show="(isErrorRatePeriod==true)">
											<td colspan="4"><div class="alert alert-danger">{{ errorsMessageRatePeriod }}</div></td>
										</tr>
										<tr ng-show="(isErrorRatePeriodOverlap==true)">
											<td colspan="4"><div class="alert alert-danger">{{ 'error_overlap_rate_period' | i18n }}</div></td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="field-error" ng-show="!isInitPeriod && form.pFromDate.$error.pattern || notValidDateFrom">{{ 'area_rate_period_startdate_error_pattern' | i18n }}</div>
												<div class="field-error" ng-show="!isInitPeriod && form.pFromDate.$error.required">{{ 'area_rate_period_startdate_error_required' | i18n }}</div>
												<div class="field-error" ng-show="!isInitPeriod && form.pToDate.$error.pattern || notValidDateTo">{{ 'area_rate_period_enddate_error_pattern' | i18n }}</div>
												<div class="field-error" ng-show="!isInitPeriod && form.pToDate.$error.required">{{ 'area_rate_period_enddate_error_required' | i18n }}</div>
												<div class="field-error" ng-show="!isInitPeriod && form.pWeekDays.$error.required">{{ 'area_weekdays_err_required' | i18n }}</div>
												<div class="field-error" ng-show="!isInitPeriod && form.pTime.$error.required">{{ 'area_openingtime_err_required' | i18n }}</div>
					   							<div class="field-error" ng-show="!isInitPeriod && form.pTime.$error.pattern">{{ 'area_openingtime_err_pattern' | i18n }}</div>
					   							<div class="field-error" ng-show="!isInitPeriod && form.pFee.$error.required">{{ 'area_fee_err_required' | i18n }}</div>
					   							<div class="field-error" ng-show="!isInitPeriod && form.pFee.$error.pattern">{{ 'area_fee_err_pattern' | i18n }}</div>
					   							<div class="field-error" ng-show="!isInitPeriod && form.pNote.$error.required">{{ 'area_note_err_required' | i18n }}</div>
											</td>
										</tr>
									</table>
									&nbsp;
									<hr>
								</div>
						  		<div ng-show="area.validityPeriod.length > 0">
						  			<table width="100%" class="animate-repeat" ng-repeat="r in area.validityPeriod">
										<tr valign="bottom">
											<th width="17%">{{ 'area_rate_period_startdate' | i18n }}</th>
											<th width="17%">{{ 'area_rate_period_enddate' | i18n }}</th>
											<th width="36%">{{ 'area_rate_period_weekdays' | i18n }}</th>
											<th width="30%">{{ 'area_rate_period_hours' | i18n }}</th>
										</tr>
										<tr>
											<td>{{ (r.from | date:'dd/MM') }}</td>
								   			<td>{{ (r.to | date:'dd/MM') }}</td>
											<td><span ng-repeat="d in getWeekDaysFromArray(r.weekDays, 0)">{{ d | i18n }};&nbsp</span></td>
											<td>
												<ul class="no-margin" ng-repeat="t in getHourSlotsFromArray(r.timeSlot)">
													<li>{{ t }}</li>
												</ul>
											</td>
										</tr>
										<tr>	
											<td><strong>{{ 'area_rate_value' | i18n }}</strong></td>
											<td><strong>{{ 'area_rate_is_holidays' | i18n }}</strong></td>
											<td><strong>{{ 'area_rate_note' | i18n }}</strong></td>
											<td></td>
										</tr>
										<tr>
								    		<td>{{ r.rateValue | centToeuroVal }} {{ 'euro_hour' | i18n }}</td>
											<td>
												<span ng-show="r.holiday">{{ 'yes_val_select' | i18n }}</span>
												<span ng-show="!r.holiday">{{ 'no_val_select' | i18n }}</span>
											</td>
											<td>{{ r.note }}</td>
											<td align="center">
												<!-- <button type="button" class="btn btn-default btn-xs" ng-click="editRatePeriod(r)" ng-show="isPeriodFormVisible == true" alt="{{ 'area_rate_edit' | i18n }}" title="{{ 'area_rate_edit' | i18n }}" ><i class="glyphicon glyphicon-pencil"></i></button> -->
												<button type="button" class="btn btn-default btn-xs" ng-click="deleteRatePeriod(r, 0)" ng-show="isPeriodFormVisible == true" alt="{{ 'area_rate_canc' | i18n }}" title="{{ 'area_rate_canc' | i18n }}" ><i class="glyphicon glyphicon-trash"></i></button>
											</td>
										</tr>
									</table>
								</div>	
								<table width="100%">	
									<tr ng-show="area.validityPeriod.length > 0"><td colspan="4"><hr></td></tr>
									<tr ng-show="area.validityPeriod.length > 0">
										<td></td>
										<td></td>
										<td></td>
										<td align="right">
											<button type="button" class="btn btn-default" ng-click="showPForm()" alt="{{ 'area_rate_period_insert_edit' | i18n }}" title="{{ 'area_rate_period_insert_edit' | i18n }}" ng-show="!isPeriodFormVisible"><i class="glyphicon glyphicon-pencil"></i></button>
											<button type="button" class="btn btn-default" ng-click="saveAndClosePForm()" ng-show="isPeriodFormVisible == true">{{ 'ok_button' | i18n }}</button>
										</td>
									</tr>
								</table>
								<table width="100%" ng-show="area.validityPeriod.length == 0 || area.validityPeriod == null">
									<tr>
										<td colspan="3">{{ 'no_value_inserted_period' | i18n }}</td>
										<td align="right">
											<button type="button" class="btn btn-default" ng-click="showPForm()" alt="{{ 'area_rate_period_insert_edit' | i18n }}" title="{{ 'area_rate_period_insert_edit' | i18n }}" ng-show="!isPeriodFormVisible"><i class="glyphicon glyphicon-pencil"></i></button>
											<button type="button" class="btn btn-default" ng-click="saveAndClosePForm()" ng-show="isPeriodFormVisible == true">{{ 'ok_button' | i18n }}</button>
										</td>
									</tr>
								</table>
							</div>
					   	</div>
					   	
					   	<!-- <div class="form-group" ng-show="aconf.a_fee.visible">
					    	<label for="fee">{{ 'area_rate' | i18n }}</label>
					    	<input id="fee" type="text" class="form-control" name="aFee" ng-model="area.fee" ng-required="aconf.a_fee.required" ng-pattern="decimalNumbers" placeholder="{{ 'area_fee_placeholder' | i18n }}" >
					   		<div class="field-error" ng-show="!isInit && form.aFee.$error.required">{{ 'area_fee_err_required' | i18n }}</div>
					   		<div class="field-error" ng-show="!isInit && form.aFee.$error.pattern">{{ 'area_fee_err_pattern' | i18n }}</div>
					   	</div>
					   	<div class="form-group" ng-show="aconf.a_timeSlot.visible">
					    	<label for="time">{{ 'area_time' | i18n }}</label>
					    	<input id="time" type="text" class="form-control" name="aTime" ng-model="area.timeSlot" ng-required="aconf.a_timeSlot.required" ng-pattern="periodPattern" placeholder="{{ 'area_time_placeholder' | i18n }}" >
					   		<div class="field-error" ng-show="!isInit && form.aTime.$error.required">{{ 'area_openingtime_err_required' | i18n }}</div>
					   		<div class="field-error" ng-show="!isInit && form.aTime.$error.pattern">{{ 'area_openingtime_err_pattern' | i18n }}</div>
					   	</div> -->
					   	<div class="form-group" ng-show="aconf.a_smsCode.visible">
					    	<label for="sms">{{ 'area_sms' | i18n }}</label>
					    	<input id="sms" type="text" class="form-control" name="aSms" ng-model="area.smsCode" ng-required="aconf.a_smsCode.required"  placeholder="{{ 'area_sms_placeholder' | i18n }}" >
					   		<div class="field-error" ng-show="!isInit && form.aSms.$error.required">{{ 'area_smscode_err_required' | i18n }}</div>
					   	</div>
<!-- 					   	<div class="form-group" ng-show="aconf.a_municipality.visible">
					    	<label for="manager">{{ 'area_municipality' | i18n }}</label>
					    	<select id="municipality" name="pMunicipality" class="form-control" ng-options="m for m in allMunicipality" ng-model="area.municipality" ng-required="area_municipality.required">
					    		<option value="">{{ 'area_municipality_placeholder' | i18n }}</option>
					    	</select>
					    	<div class="field-error" ng-show="!isInit && form.pMunicipality.$error.required">{{ 'area_municipality_err_required' | i18n }}</div>
					   	</div> -->
					   	<div class="form-group" ng-show="aconf.a_note.visible">
					    	<label for="note">{{ 'area_note' | i18n }}</label>
					    	<input id="note" type="text" class="form-control" name="aNote" ng-model="area.note" ng-required="aconf.a_note.required"  placeholder="{{ 'area_note_placeholder' | i18n }}" >
					   		<div class="field-error" ng-show="!isInit && form.aNote.$error.required">{{ 'area_note_err_required' | i18n }}</div>
					   	</div>
					   	<div class="form-group" ng-show="aconf.a_color.visible">
					    	<label for="color">{{ 'area_color' | i18n }}</label>
					    	<input id="color" colorpicker="hex" colorpicker-with-input="true" type="text" class="form-control" name="aColor" ng-model="myColor" ng-required="aconf.a_color.required" placeholder="{{ 'area_color_placeholder' | i18n }}" >
					    	<div class="field-error" ng-show="!isInit && form.aColor.$error.required">{{ 'area_color_err_required' | i18n }}</div>
					   	</div>
					   	<div class="form-group" ng-show="aconf.a_zones0.visible">
					    	<label for="zone0">{{ zone0_label | i18n }}</label>
					    	<select id="zone0" name="aZone0" class="form-control" ng-options="m as m.label for m in aZones0 | filter:{ agencyId : agencyId } | orderBy: 'label'" ng-model="myAZone0" ng-required="aconf.a_zones0.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.aZone0.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="aconf.a_zones1.visible">
					    	<label for="zone1">{{ zone1_label | i18n }}</label>
					    	<select id="zone1" name="aZone1" class="form-control" ng-options="m as m.label for m in aZones1 | filter:{ agencyId : agencyId } | orderBy: 'label'" ng-model="myAZone1" ng-required="aconf.a_zones1.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.aZone1.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="aconf.a_zones2.visible">
					    	<label for="zone2">{{ zone2_label | i18n }}</label>
					    	<select id="zone2" name="aZone2" class="form-control" ng-options="m as m.label for m in aZones2 | filter:{ agencyId : agencyId } | orderBy: 'label'" ng-model="myAZone2" ng-required="aconf.a_zones2.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.aZone2.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="aconf.a_zones3.visible">
					    	<label for="zone3">{{ zone3_label | i18n }}</label>
					    	<select id="zone3" name="aZone3" class="form-control" ng-options="m as m.label for m in aZones3 | filter:{ agencyId : agencyId } | orderBy: 'label'" ng-model="myAZone3" ng-required="aconf.a_zones3.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.aZone3.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="aconf.a_zones4.visible">
					    	<label for="zone4">{{ zone4_label | i18n }}</label>
					    	<select id="zone4" name="aZone4" class="form-control" ng-options="m as m.label for m in aZones4 | filter:{ agencyId : agencyId } | orderBy: 'label'" ng-model="myAZone4" ng-required="aconf.a_zones4.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.aZone4.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<!-- < div class="form-group" ng-show="aconf.a_fee.visible && !isFeeEditing">
							<label for="fee">{{ 'area_rate' | i18n }}</label>
							<a href type="button" class="btn btn-primary btn-xs" ng-click="updateAreaFee()"  alt="{{ 'link_create_title' | i18n }}" title="{{ 'link_create_title' | i18n }}"><i class="glyphicon glyphicon-plus"></i></a>
							<div class="subpanel panel panel-default" width="95%">
								<div class="row" ng-repeat="op in openingPeriods">
									<div class="col-md-1"></div>
									<div class="col-md-2">{{ op.fee | euroVal}} {{ 'euro_hour' | i18n }}</div>
									<div class="col-md-3">{{ op.period.start | date }} - {{ op.period.end | date }}</div>
									<div class="col-md-2">{{ correctOpeningStartTime(op.weekdays) }}</div>
									<div class="col-md-3">{{ op.dailytime }}</div>
									<div class="col-md-1">
										<a href type="button" class="btn btn-primary btn-xs" ng-click="updateAreaFee(op)"  alt="{{ 'link_edit_title' | i18n }}" title="{{ 'link_edit_title' | i18n }}"><i class="glyphicon glyphicon-pencil"></i></a>&nbsp;
										<a href type="button" class="btn btn-primary btn-xs" ng-click="removeAreaFee(op)" alt="{{ 'link_remove_title' | i18n }}" title="{{ 'link_remove_title' | i18n }}"><i class="glyphicon glyphicon-trash"></i></a>
									</div>
								</div>
							</div>
						</div>
						<div ng-show="aconf.a_fee.visible && isFeeEditing">
							<label for="fee">{{ 'area_rate' | i18n }}</label>
							<div class="subpanel panel panel-default" width="95%">
								<div class="form-group">
							    	<label for="fee">{{ 'area_rate' | i18n }}</label>
							    	<input id="fee" type="text" class="form-control" name="aFee" ng-model="areaperiod.fee" ng-required="aconf.a_fee.required" ng-pattern="decimalNumbers" placeholder="{{ 'area_fee_placeholder' | i18n }}" >
							   		<div class="field-error" ng-show="!isInit && form.aFee.$error.required">{{ 'area_fee_err_required' | i18n }}</div>
							   		<div class="field-error" ng-show="!isInit && form.aFee.$error.pattern">{{ 'area_fee_err_pattern' | i18n }}</div>
							   	</div>
							   	<div class="row inputform">
							    	<div class="col-md-2"><label for="period_from">Periodo validita': inizio</label></div>
							    	<div class="col-md-2">
							    		<input id="fromDate" name="pFromDate" type="text" class="form-control" datepicker-popup="{{format}}" placeholder="{{getPlaceHolder()}}" ng-model="areaperiod.dataDa" is-open="rStoricoResFromDate.open" ng-click="rStoricoResFromDate.open = true" datepicker-options="dateOptions" current-text="{{ 'datepicker_button_today' | i18n }}" clear-text="{{ 'datepicker_button_canc' | i18n }}" close-text="{{ 'datepicker_button_close' | i18n }}" show-weeks="false" />
										<div class="alert alert-danger" ng-show="(initFamForm()!=true) && form.pFromDate.$error.pattern">{{ 'startdate_error_pattern' | i18n }}</div>
										<div class="alert alert-danger" ng-show="(initFamForm()!=true) && form.pFromDate.$error.required">{{ 'startdate_error_required' | i18n }}</div>
									</div>
							    	<div class="col-md-1"><label for="period_from">periodo a</label></div>
							    	<div class="col-md-2">
							    		<input id="toDate" name="pToDate" type="text" class="form-control" datepicker-popup="{{format}}" placeholder="{{getPlaceHolder()}}" ng-model="areaperiod.dataA" is-open="rStoricoResToDate.open" ng-click="rStoricoResToDate.open = true" datepicker-options="dateOptions" current-text="{{ 'datepicker_button_today' | i18n }}" clear-text="{{ 'datepicker_button_canc' | i18n }}" close-text="{{ 'datepicker_button_close' | i18n }}" show-weeks="false" />
										<div class="alert alert-danger" ng-show="(initFamForm()!=true) && form.pToDate.$error.pattern">{{ 'enddate_error_pattern' | i18n }}</div>
										<div class="alert alert-danger" ng-show="(initFamForm()!=true) && form.pToDate.$error.required">{{ 'enddate_error_required' | i18n }}</div>
									</div>
							   	</div>
							   	<div class="row inputform">
							    	<label for="wd" class="col-md-2 control-label">Giorni di validita'</label>
							    	<div id="wd" class="col-md-5">
							    		<label><input id="dayval_mo" type="checkbox" ng-model="areaperiod.dow_val.mo">{{'mon_vis'|i18n}}</label>
							    		<label><input id="dayval_tu" type="checkbox" ng-model="areaperiod.dow_val.tu">{{'tue_vis'|i18n}}</label>
							    		<label><input id="dayval_we" type="checkbox" ng-model="areaperiod.dow_val.we">{{'wed_vis'|i18n}}</label>
							    		<label><input id="dayval_th" type="checkbox" ng-model="areaperiod.dow_val.th">{{'thu_vis'|i18n}}</label>
							    		<label><input id="dayval_fr" type="checkbox" ng-model="areaperiod.dow_val.fr">{{'fri_vis'|i18n}}</label>
							    		<label><input id="dayval_sa" type="checkbox" ng-model="areaperiod.dow_val.sa">{{'sat_vis'|i18n}}</label>
							    		<label><input id="dayval_su" type="checkbox" ng-model="areaperiod.dow_val.su">{{'sun_vis'|i18n}}</label>
							    	</div>
							   	</div>
							   	<div class="form-group">
								   	<label for="time">{{ 'ps_time' | i18n }}</label>
			                        <div class="panel panel-default subpanel" width="95%">
								   	<div class="form-group" ng-show="aconf.a_timeSlot.visible">
								    	<table width="80%" ng-show="openingTimes != null && openingTimes.length > 0">
								    		<tbody class="animate-repeat" ng-repeat="p in openingTimes">
								    			<tr>
								    				<td width="6%"><strong>{{ 'ps_opening_from' | i18n }}: </strong></td>
								    				<td width="39%">{{ p.from }}</td>
								    				<td width="5%" align="center"><strong>{{ 'ps_opening_to' | i18n }}: </strong></td>
								    				<td width="40%">{{ p.to }}</td>
								    				<td width="10%" align="right">
								    					<button type="button" class="btn btn-default" ng-click="deleteOpeningPeriod(p)">{{ 'ps_time_period_delete' | i18n }}</button>
								    				</td>
								    			</tr>
								    		</tbody>
								    		<tr>
								    			<td colspan="5"><hr /></td>
								    		</tr>
								    		<tr ng-show="isErrorsPeriodTimeOverlap()">
								    			<td colspan="5">
								    				<div class="field-error">{{ 'ps_period_overlap_error' | i18n }}</div>
								    			</td>
								    		</tr>
								    		<tr ng-show="isErrorsPeriodTimeFromTo()">
								    			<td colspan="5">
								    				<div class="field-error">{{ 'ps_period_from_to_error' | i18n }}</div>
								    			</td>
								    		</tr>
								    	</table>
								    	<table width="80%">
								    		<tr>
								    			<td width="6%">
								    				<strong>{{ 'ps_opening_from' | i18n }}: </strong>
								    			</td>
								    			<td width="39%">
								    				<timepicker ng-model="op_startTime" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
								    			</td>
								    			<td width="5%" align="center">
								    				<strong>{{ 'ps_opening_to' | i18n }}: </strong>
								    			</td>
								    			<td width="40%">
								    				<timepicker ng-model="op_endTime" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
								    			</td>
								    			<td width="10%" align="right">
								    				<button type="button" class="btn btn-success" ng-click="addOpeningPeriod(op_startTime, op_endTime)" alt="{{ 'add_time_period' | i18n }}" title="{{ 'add_time_period' | i18n }}">&nbsp;<i class="glyphicon glyphicon-plus icon-white"></i>&nbsp;</button>
								    			</td>
								    		</tr>
								    	</table>
								   	</div>
								   	<table width="97%">			
									   	<tr>
									   		<td width="85%"></td>
									   		<td width="8%" align="right">
												<button type="button" class="btn btn-default btn-sm" ng-click="closeOPView()">{{ 'text_btn_close' | i18n  }}</button>	
											</td>
									   		<td width="7%" align="right">
									   			<button type="button" class="btn btn-primary btn-sm" ng-click="updateOp(form, areaperiod)" ng-show="isEditing">{{ 'text_btn_save' | i18n  }}</button>, editArea
									   		</td>
										</tr>
										<tr>
											<td colspan="3">&nbsp;</td>
										</tr>
									</table>
								</div>
							</div>
						</div> -->
					</div>
					<div class="field-error" ng-show="showUpdatingAErrorMessage">{{ 'err_in_update_area' | i18n }}</div>
			   		<table width="97%" ng-show="!tabletWiew">			
					   	<tr>
					   		<td width="85%"></td>
					   		<td width="7%" align="right">
								<button type="button" class="btn btn-default btn-lg" ng-click="closeAView()">{{ 'text_btn_close' | i18n  }}</button>	
							</td>
					   		<td width="8%" align="right">
					   			<button type="button" class="btn btn-primary btn-lg" ng-click="updateArea(form, area, myColor, myAZone0, myAZone1, myAZone2, myAZone3, myAZone4)" ng-show="isEditing">{{ 'text_btn_save' | i18n  }}</button><!-- , editArea -->
					   			<button type="button" class="btn btn-primary btn-lg" ng-click="createArea(form, area, myColor, myAZone0, myAZone1, myAZone2, myAZone3, myAZone4)" ng-show="!isEditing">{{ 'text_btn_save' | i18n  }}</button>
					   		</td>
						</tr>
						<tr>
							<td colspan="3">&nbsp;</td>
						</tr>
					</table>
					<table width="97%" ng-show="tabletWiew">			
					   	<tr>
					   		<td width="80%"></td>
					   		<td width="10%" align="right">
								<button type="button" class="btn btn-default btn-lg" ng-click="closeAView()">{{ 'text_btn_close' | i18n  }}</button>	
							</td>
					   		<td width="10%" align="right">
					   			<button type="button" class="btn btn-primary btn-lg" ng-click="updateArea(form, area, myColor, myAZone0, myAZone1, myAZone2, myAZone3, myAZone4)" ng-show="isEditing">{{ 'text_btn_save' | i18n  }}</button><!-- , editArea -->
					   			<button type="button" class="btn btn-primary btn-lg" ng-click="createArea(form, area, myColor, myAZone0, myAZone1, myAZone2, myAZone3, myAZone4)" ng-show="!isEditing">{{ 'text_btn_save' | i18n  }}</button>
					   		</td>
						</tr>
						<tr>
							<td colspan="3">&nbsp;</td>
						</tr>
					</table>
			   	</div>
		   	</form>
	   	</div>
	</div>
<!-- 	<div ng-show="viewModeA"> -->
<!-- 		<div class="col-md-6" ng-show="aViewMapReady" > -->
<!-- 			<ui-gmap-google-map id="13" center="viewAreaMap.center" draggable="true" zoom="viewAreaMap.zoom" options="options" control="viewAreaMap.control" bounds="viewAreaMap.bounds">	 -->
<!-- 				<ui-gmap-polygon ng-repeat="a in viewAreaPolygons" path="a.path" stroke="a.stroke" fill="a.fill" visible="a.visible" -->
<!-- 	              geodesic="a.geodesic" fit="false" editable="false" draggable="false"></ui-gmap-polygon> -->
<!-- 	            <ui-gmap-polygon path="myAreaPol.path" stroke="myAreaPol.stroke" fill="myAreaPol.fill" visible="myAreaPol.visible" -->
<!-- 	              geodesic="myAreaPol.geodesic" fit="false" editable="myAreaPol.editable" draggable="myAreaPol.draggable"></ui-gmap-polygon>  	 -->
<!-- 			</ui-gmap-google-map> -->
			
<!-- 		</div> -->
<!-- 		<div class="col-md-6" ng-show="!aViewMapReady"> -->
<!-- 			<div style="text-align: center"> -->
<!-- 				<img src="imgs/ajax-loader.gif" width="40" height="40" /><br> -->
<!-- 				<h3>{{ 'loading_text' | i18n }}...</h3> -->
<!-- 			</div> -->
<!-- 		</div> -->
<!-- 		<div class="col-md-6"> -->
<!-- 			<div class="panel panel-default" width="90%"> -->
<!-- 		   		<div class="panel-heading"> -->
<!-- 		    		<h3 class="panel-title"><strong>{{ 'view_area' | i18n }}</strong></h3> -->
<!-- 		  		</div> -->
<!-- 		  		<div class="panel-body">	 -->
<!-- 		  			<table width="100%"> -->
<!-- 						<tr> -->
<!-- 							<td width="45%"><strong>{{ 'area_name' | i18n }}:</strong></td> -->
<!-- 							<td width="55%">{{ area.name }}</td> -->
<!-- 						</tr> -->
<!-- 						<tr>	 -->
<!-- 							<td><strong>{{ 'area_rate' | i18n }}:</strong></td> -->
<!-- 							<td>{{ area.fee }}</td> -->
<!-- 						</tr> -->
<!-- 						<tr>	 -->
<!-- 							<td><strong>{{ 'area_time' | i18n }}:</strong></td> -->
<!-- 							<td>{{ area.timeSlot }}</td> -->
<!-- 						</tr> -->
<!-- 						<tr>	 -->
<!-- 							<td><strong>{{ 'area_sms' | i18n }}:</strong></td> -->
<!-- 							<td>{{ area.smsCode }}</td> -->
<!-- 						</tr> -->
<!-- 						<tr>	 -->
<!-- 							<td><strong>{{ 'area_color' | i18n }}</strong></td> -->
<!-- 							<td><span class="colorBox" ng-style="{'background-color': correctColor(area.color)}"></span></td> -->
<!-- 						</tr> -->
<!-- 			   		</table> -->
<!-- 			   		<hr> -->
<!-- 				   	<table width="95%">			 -->
<!-- 						<tr> -->
<!-- 							<td width="50%" align="right"> -->
<!-- 								<button type="button" class="btn btn-default btn-lg" ng-click="closeAView()">{{ 'text_btn_close' | i18n  }}</button>	 -->
<!-- 							</td> -->
<!-- 							<td width="50%" align="left"> -->
<!-- 								<button type="button" class="btn btn-default btn-lg" ng-click="setAEdit(area)">{{ 'text_btn_edit' | i18n  }}</button> -->
<!-- 							</td> -->
<!-- 						</tr> -->
<!-- 					</table> -->
<!-- 				</div> -->
<!-- 			</div> -->
<!-- 		</div> -->
<!-- 	</div> -->
</div>