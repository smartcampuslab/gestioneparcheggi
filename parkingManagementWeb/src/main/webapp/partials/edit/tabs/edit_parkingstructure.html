<div class="row">
	<div ng-show="!editModePS"><!-- && !viewModePS -->
		<div class="col-md-6" ><!-- ng-show="psMapReady" -->
			<map id="viewPs" class="angular-google-map-container" center="{{ mapOption.center }}" zoom="{{ mapOption.zoom }}" width="100%" >
				<marker ng-repeat="ps in parkingStructureMarkers" id="{{ ps.id }}" position="{{ ps.position }}" icon="{{ ps.icon }}" on-click="showInfoWindow(event, 'ps')" >
					<info-window id="ps" visible-on-marker="{{ ps.id }}">
						<div ng-non-bindable="">
						    <div id="siteNotice"></div>
					      	<h4 id="firstHeading" class="firstHeading"><span ng-show="psconf.ps_name.visible">{{ ps.data.name }}</span></h4>
						    <div id="bodyContent">
						       	<table>
						      		<tr ng-show="psconf.ps_address.visible">
						      			<td><strong>{{ 'ps_address' | i18n }}:</strong></td>
						       			<td>&nbsp;{{ ps.data.streetReference }}</td>
						       		</tr>
									<tr ng-show="psconf.ps_fee.visible">
						       			<td><strong>{{ 'ps_fee_val' | i18n }}:</strong></td>
						       			<td ng-if="ps.data.fee_val != null">&nbsp;{{ ps.data.fee_val | euroVal }} {{ 'euro_hour' | i18n }}</td>
						       			<td ng-if="ps.data.fee_val == null">&nbsp;n.p.</td>
						       		</tr>
						       		<tr ng-show="psconf.ps_fee.visible">
						       			<td><strong>{{ 'ps_fee_note' | i18n }}:</strong></td>
						       			<td>&nbsp;{{ ps.data.fee_note }}</td>
						       		</tr>
						       		<tr ng-show="psconf.ps_timeSlot.visible">
						       			<td><strong>{{ 'ps_time' | i18n }}:</strong></td>
						       			<td ng-if="ps.data.openingTime != null"><span ng-repeat="ops in ps.data.openingTime.period">{{ ops.from }} - {{ ops.to }};</span></td>
						       			<td ng-if="ps.data.openingTime == null">&nbsp;n.p.</td>
						       		</tr>
						       		<tr ng-show="psconf.ps_phoneNumber.visible">
						       			<td><strong>{{ 'ps_phone' | i18n }}:</strong></td>
						       			<td>&nbsp;{{ ps.data.phoneNumber }}</td>
						       		</tr>
						       		<tr ng-show="psconf.ps_manager.visible">
							        	<td><strong>{{ 'ps_manager' | i18n }}:</strong></td>
							        	<td>&nbsp;{{ ps.data.manager }}</td>
							        </tr>
						       		<tr ng-show="psconf.ps_management.visible">
						       			<td><strong>{{ 'ps_management_mode' | i18n }}:</strong></td>
						       			<td>&nbsp;{{ ps.data.managementMode }}</td>
						       		</tr>
						       		<tr ng-show="psconf.ps_parkride.visible">
										<td><strong>{{ 'ps_park_and_ride' | i18n }}:</strong></td>
										<td>&nbsp;
											<span ng-if="isUsedItaLang()">{{ ps.data.parkAndRide | boolToString }}</span>
											<span ng-if="isUsedEngLang()">{{ ps.data.parkAndRide | boolToStringEng }}</span>
										</td>
									</tr>
						       		<tr ng-show="psconf.ps_payment.visible">
						       			<td><strong>{{ 'ps_payment_mode' | i18n }}:</strong></td>
						       			<td>&nbsp;{{ castMyPaymentModeToString(ps.data.paymentMode) }}</td>
					        		</tr>
					        		<tr ng-if="psconf.ps_zones0.visible">	
										<td>
											<strong>{{ zone0_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z0 in ps.zones0 track by z0.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z0.color)}"></span></td>
													<td width="80%">{{ z0.name }}<span ng-if="z0.submacro"> - {{ z0.submacro }}</span><span ng-if="z0.submicro"> - {{ z0.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="psconf.ps_zones1.visible">	
										<td>
											<strong>{{ zone1_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z1 in ps.zones1 track by z1.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z1.color)}"></span></td>
													<td width="80%">{{ z1.name }}<span ng-if="z1.submacro"> - {{ z1.submacro }}</span><span ng-if="z1.submicro"> - {{ z1.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="psconf.ps_zones2.visible">	
										<td>
											<strong>{{ zone2_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z2 in ps.zones2 track by z2.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z2.color)}"></span></td>
													<td width="80%">{{ z2.name }}<span ng-if="z2.submacro"> - {{ z2.submacro }}</span><span ng-if="z2.submicro"> - {{ z2.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="psconf.ps_zones3.visible">	
										<td>
											<strong>{{ zone3_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z3 in ps.zones3 track by z3.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z3.color)}"></span></td>
													<td width="80%">{{ z3.name }}<span ng-if="z3.submacro"> - {{ z3.submacro }}</span><span ng-if="z3.submicro"> - {{ z3.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="psconf.ps_zones4.visible">	
										<td>
											<strong>{{ zone4_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z4 in ps.zones4 track by z4.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z4.color)}"></span></td>
													<td width="80%">{{ z4.name }}<span ng-if="z4.submacro"> - {{ z4.submacro }}</span><span ng-if="z4.submicro"> - {{ z4.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr>
										<td colspan="2">
											<strong>{{ 'ps_slots' | i18n }}</strong>:
											<div class="panel panel-default">
												<div class="panel-body">
													<table width="100%">
														<tr ng-show="psconf.ps_slotNumber.visible">
															<td width="45%"><strong>{{ 'ps_totalslot' | i18n }}:</strong></td>
															<td width="55%">{{ ps.data.slotNumber }}</td>
														</tr>
														<tr ng-show="psconf.ps_slotNumber.visible">
															<td><strong>{{ 'ps_paying_slot' | i18n }}:</strong></td>
															<td>{{ ps.data.payingSlotNumber }}</td>
														</tr>
														<tr ng-show="psconf.ps_handicappedSlot.visible">	
															<td><strong>{{ 'ps_handicapped_slot' | i18n }}:</strong></td>
															<td>{{ ps.data.handicappedSlotNumber }}</td>
														</tr>
<!-- 														<tr ng-show="psconf.ps_unusuableSlot.visible">	 -->
<!-- 															<td><strong>{{ 'ps_unusuable_slot' | i18n }}:</strong></td> -->
<!-- 															<td>{{ ps.data.unusuableSlotNumber }}</td> -->
<!-- 														</tr> -->
													</table>
												</div>
											</div>
										</td>
									</tr>
					        	</table>
					        </div>
				        </div>       
					</info-window>
				</marker>
				<marker ng-repeat="sps in mySpecialPSMarkers" id="{{ sps.id }}" position="{{ sps.position }}" icon="{{ sps.icon }}" visible="{{ sps.visible }}" animation="{{ sps.options.animation }}" on-click="showInfoWindow(event, 'sps')" >
					<info-window id="sps" visible-on-marker="{{ sps.id }}">
						<div ng-non-bindable="">
						    <div id="siteNotice"></div>
					      	<h4 id="firstHeading" class="firstHeading"><span ng-show="psconf.ps_name.visible">{{ sps.data.name }}</span></h4>
						    <div id="bodyContent">
						       	<table>
						      		<tr ng-show="psconf.ps_address.visible">
						      			<td><strong>{{ 'ps_address' | i18n }}:</strong></td>
						       			<td>&nbsp;{{ sps.data.streetReference }}</td>
						       		</tr>
									<tr ng-show="psconf.ps_fee.visible">
						       			<td><strong>{{ 'ps_fee_val' | i18n }}:</strong></td>
						       			<td ng-if="sps.data.fee_val != null">&nbsp;{{ sps.data.fee_val | euroVal }} {{ 'euro_hour' | i18n }}</td>
						       			<td ng-if="sps.data.fee_val == null">&nbsp;n.p.</td>
						       		</tr>
						       		<tr ng-show="psconf.ps_fee.visible">
						       			<td><strong>{{ 'ps_fee_note' | i18n }}:</strong></td>
						       			<td>&nbsp;{{ sps.data.fee_note }}</td>
						       		</tr>
						       		<tr ng-show="psconf.ps_timeSlot.visible">
						       			<td><strong>{{ 'ps_time' | i18n }}:</strong></td>
						       			<td ng-if="sps.data.openingTime != null"><span ng-repeat="ops in sps.data.openingTime.period">&nbsp;{{ ops.from }} - {{ ops.to }};</span></td>
						       			<td ng-if="sps.data.openingTime == null">&nbsp;n.p.</td>
						       		</tr>
						       		<tr ng-show="psconf.ps_phoneNumber.visible">
						       			<td><strong>{{ 'ps_phone' | i18n }}:</strong></td>
						       			<td>&nbsp;{{ sps.data.phoneNumber }}</td>
						       		</tr>
						       		<tr ng-show="psconf.ps_manager.visible">
							        	<td><strong>{{ 'ps_manager' | i18n }}:</strong></td>
							        	<td>&nbsp;{{ sps.data.manager }}</td>
							        </tr>
						       		<tr ng-show="psconf.ps_management.visible">
						       			<td><strong>{{ 'ps_management_mode' | i18n }}:</strong></td>
						       			<td>&nbsp;{{ sps.data.managementMode }}</td>
						       		</tr>
						       		<tr ng-show="psconf.ps_parkride.visible">
										<td><strong>{{ 'ps_park_and_ride' | i18n }}:</strong></td>
										<td>&nbsp;
											<span ng-if="isUsedItaLang()">{{ sps.data.parkAndRide | boolToString }}</span>
											<span ng-if="isUsedEngLang()">{{ sps.data.parkAndRide | boolToStringEng }}</span>
										</td>
									</tr>
						       		<tr ng-show="psconf.ps_payment.visible">
						       			<td><strong>{{ 'ps_payment_mode' | i18n }}:</strong></td>
						       			<td>&nbsp;{{ castMyPaymentModeToString(sps.data.paymentMode) }}</td>
					        		</tr>
					        		<tr ng-if="psconf.ps_zones0.visible">	
										<td>
											<strong>{{ zone0_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z0 in sps.zones0 track by z0.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z0.color)}"></span></td>
													<td width="80%">{{ z0.name }}<span ng-if="z0.submacro"> - {{ z0.submacro }}</span><span ng-if="z0.submicro"> - {{ z0.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="psconf.ps_zones1.visible">	
										<td>
											<strong>{{ zone1_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z1 in sps.zones1 track by z1.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z1.color)}"></span></td>
													<td width="80%">{{ z1.name }}<span ng-if="z1.submacro"> - {{ z1.submacro }}</span><span ng-if="z1.submicro"> - {{ z1.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="psconf.ps_zones2.visible">	
										<td>
											<strong>{{ zone2_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z2 in sps.zones2 track by z2.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z2.color)}"></span></td>
													<td width="80%">{{ z2.name }}<span ng-if="z2.submacro"> - {{ z2.submacro }}</span><span ng-if="z2.submicro"> - {{ z2.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="psconf.ps_zones3.visible">	
										<td>
											<strong>{{ zone3_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z3 in sps.zones3 track by z3.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z3.color)}"></span></td>
													<td width="80%">{{ z3.name }}<span ng-if="z3.submacro"> - {{ z3.submacro }}</span><span ng-if="z3.submicro"> - {{ z3.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr ng-if="psconf.ps_zones4.visible">	
										<td>
											<strong>{{ zone4_label | i18n }}:</strong>
										</td>
										<td>
											<table width="100%">
												<tr ng-repeat="z4 in sps.zones4 track by z4.id">
													<td width="20%"><span class="colorBox" ng-style="{'background-color': correctColor(z4.color)}"></span></td>
													<td width="80%">{{ z4.name }}<span ng-if="z4.submacro"> - {{ z4.submacro }}</span><span ng-if="z4.submicro"> - {{ z4.submicro }}</span></td>
												</tr>
											</table>
										</td>
									</tr>
									<tr>
										<td colspan="2">
											<strong>{{ 'ps_slots' | i18n }}</strong>:
											<div class="panel panel-default">
												<div class="panel-body">
													<table width="100%">
														<tr ng-show="psconf.ps_slotNumber.visible">
															<td width="45%"><strong>{{ 'ps_totalslot' | i18n }}:</strong></td>
															<td width="55%">{{ sps.data.slotNumber }}</td>
														</tr>
														<tr ng-show="psconf.ps_slotNumber.visible">
															<td><strong>{{ 'ps_paying_slot' | i18n }}:</strong></td>
															<td>{{ sps.data.payingSlotNumber }}</td>
														</tr>
														<tr ng-show="psconf.ps_handicappedSlot.visible">	
															<td><strong>{{ 'ps_handicapped_slot' | i18n }}:</strong></td>
															<td>{{ sps.data.handicappedSlotNumber }}</td>
														</tr>
<!-- 														<tr ng-show="psconf.ps_unusuableSlot.visible">	 -->
<!-- 															<td><strong>{{ 'ps_unusuable_slot' | i18n }}:</strong></td> -->
<!-- 															<td>{{ sps.data.unusuableSlotNumber }}</td> -->
<!-- 														</tr> -->
													</table>
												</div>
											</div>
										</td>
									</tr>
					        	</table>
					        </div>
				        </div>						        
				    </info-window>
				</marker>
			</map>
		</div>
		<div class="col-md-6" ng-show="!viewModePS">
			<div class="panel panel-success" align="center">
				<div class="panel-heading">
					<table width="100%">
						<tr>
							<td align="left"><h5 class="panel-title">{{ 'ps_list' | i18n }}</h5></td>
							<td align="right"><button type="button" class="btn btn-success" ng-click="setPsEdit(null)">{{ 'add_new_object' | i18n }}</button></td>
						</tr>
					</table>
				</div>
				<div class="panel-body">
					<div class="field-error" ng-show="showDeletingPSErrorMessage">{{ 'err_in_delete_parkingstructure' | i18n }}</div>
					<div class="tablewrapper">
						<table class="table table-striped" style="width: 100%">
							<tr ng-show="pstructWS.length != 0">
								<th width="1%">
									<span ng-show="psconf.ps_show_widget.visible"></span>	
								</th>
								<th width="30%">
									<span ng-show="psconf.ps_name.visible">{{ 'ps_name' | i18n }}</span>&nbsp;
									<a href ng-click="showPsNameFilter();currentPagePs=0" ng-show="!showPsFilter" alt="{{ 'filter_name_title' | i18n }}" title="{{ 'filter_name_title' | i18n }}"><i class="glyphicon glyphicon-filter"></i></a>
									<a href ng-click="nameFilter=null;hidePsNameFilter()" ng-show="showPsFilter" alt="{{ 'filter_name_title' | i18n }}" title="{{ 'filter_name_title' | i18n }}"><i class="glyphicon glyphicon-remove"></i></a>
									<div ng-show="showPsFilter">
						    	 		<input type="search" ng-model="nameFilter" placeholder="{{ 'filter_name_text' | i18n }}" ng-change="currentPagePs = 0" />
						    		</div>
								</th>
								<th width="35%"><span ng-show="psconf.ps_address.visible">{{ 'ps_address' | i18n }}</span></th>
								<th width="8%" ng-show="psconf.ps_parkride.visible">{{ 'ps_park_and_ride_title' | i18n }}</th>
								<th width="5%"><span ng-show="psconf.ps_timeSlot.visible">{{ 'ps_slots' | i18n }}</span></th>
								<th width="20%" class="myCenter">{{ 'operations' | i18n }}</th>
							</tr>
							<tbody class="animate-repeat"
								ng-repeat="pstruct in filtered = (pstructWS | filter:nameFilter) | orderBy:'name' | startFrom:currentPagePs*maxPStructs | limitTo:maxPStructs">
								<tr>
									<td width="1%" align="left"><span ng-show="psconf.ps_show_widget.visible"><i class="glyphicon glyphicon-map-marker" ng-show="pstruct.showInWidget" title="{{ 'img_view_in_widget_title' | i18n }}" alt="{{ 'img_view_in_widget_title' | i18n }}"></i></span></td>
									<td width="30%" align="left"><span ng-show="psconf.ps_name.visible">{{pstruct.name}}</span></td>
									<td width="35%" align="left"><span ng-show="psconf.ps_address.visible">{{pstruct.streetReference}}</span></td>
									<td width="8%" align="center" ng-show="psconf.ps_parkride.visible">
										<span ng-if="isUsedItaLang()">{{ pstruct.parkAndRide | boolToString }}</span>
										<span ng-if="isUsedEngLang()">{{ pstruct.parkAndRide | boolToStringEng }}</span>
									</td>
									<td width="5%" align="center"><span ng-show="psconf.ps_timeSlot.visible">{{pstruct.slotNumber}}</span></td>
									<td width="20%" align="center">
										<a href type="button" class="btn btn-primary btn-xs" ng-click="setPsDetails(pstruct)" alt="{{ 'link_view_title' | i18n }}" title="{{ 'link_view_title' | i18n }}"><i class="glyphicon glyphicon-eye-open"></i></a>&nbsp;
										<a href type="button" class="btn btn-primary btn-xs" ng-click="setPsEdit(pstruct)"  alt="{{ 'link_edit_title' | i18n }}" title="{{ 'link_edit_title' | i18n }}"><i class="glyphicon glyphicon-pencil"></i></a>&nbsp;
										<a href type="button" class="btn btn-primary btn-xs" ng-click="setPsRemove(pstruct)" alt="{{ 'link_remove_title' | i18n }}" title="{{ 'link_remove_title' | i18n }}"><i class="glyphicon glyphicon-trash"></i></a>
									</td>
								</tr>
							</tbody>
							<tr ng-show="pstructWS.length == 0">
								<td colspan="5"><strong>{{ 'no_ps_in_lists' | i18n }}</strong></td>
							</tr>
						</table>
					</div>
					<button class="btn btn-default"
							ng-disabled="currentPagePs == 0"
							ng-click="currentPagePs=currentPagePs-1">{{ 'previous_label' | i18n }}</button>
						{{currentPagePs+1}}/{{numberOfPages(4, filtered)}}
					<button class="btn btn-default"
							ng-disabled="currentPagePs >= filtered.length/maxPStructs - 1"
							ng-click="currentPagePs=currentPagePs+1">{{ 'next_label' | i18n }}</button>
				</div>
			</div>
		</div>
		<div class="col-md-6" ng-show="viewModePS">
			<div class="panel panel-default" width="90%">
		   		<div class="panel-heading">
		    		<h3 class="panel-title"><strong>{{ 'view_parkingstructure' | i18n }}</strong></h3>
		  		</div>
		  		<div class="panel-body">	
		  			<table width="100%">
						<tr ng-show="psconf.ps_name.visible">
							<td class="detailsViewStructSX">{{ 'ps_name' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ viewParkingStructure.name }}</td>
						</tr>
						<tr ng-show="psconf.ps_address.visible">	
							<td class="detailsViewStructSX">{{ 'ps_address' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ viewParkingStructure.streetReference }}</td>
						</tr>
						<tr ng-show="psconf.ps_fee.visible">
							<td class="detailsViewStructSX">{{ 'ps_fee_val' | i18n }}:</td>
							<td ng-if="viewParkingStructure.fee_val != null" class="detailsViewStructDX">{{ viewParkingStructure.fee_val | euroVal }} {{ 'euro_hour' | i18n }}</td>
							<td ng-if="viewParkingStructure.fee_val == null" class="detailsViewStructDX">n.p.</td>
						</tr>
						<tr ng-show="psconf.ps_fee.visible">
							<td class="detailsViewStructSX">{{ 'ps_fee_note' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ viewParkingStructure.fee_note }}</td>
						</tr>
						<tr ng-show="psconf.ps_timeSlot.visible">	
							<td class="detailsViewStructSX">{{ 'ps_time' | i18n }}:</td>
							<td class="detailsViewStructDX">
<!-- 								{{ viewParkingStructure.timeSlot }} -->
								<span ng-repeat="op in openingPeriods ">{{ op.from }} - {{ op.to }};</span>
							</td>
						</tr>
						<tr ng-show="psconf.ps_phoneNumber.visible">	
							<td class="detailsViewStructSX">{{ 'ps_phone' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ viewParkingStructure.phoneNumber }}</td>
						</tr>
						<tr ng-show="psconf.ps_manager.visible">
							<td class="detailsViewStructSX">{{ 'ps_manager' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ viewParkingStructure.manager }}</td>
						</tr>
						<tr ng-show="psconf.ps_management.visible">	
							<td class="detailsViewStructSX">{{ 'ps_management_mode' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ viewParkingStructure.managementMode }}</td>
						</tr>
						<tr ng-show="psconf.ps_payment.visible">	
							<td class="detailsViewStructSX">{{ 'ps_payment_mode' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ myPaymentMode }}</td>
						</tr>
						<tr ng-show="psconf.ps_slotNumber.visible">	
							<td class="detailsViewStructSX">{{ 'ps_totalslot' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ viewParkingStructure.slotNumber }}</td>
						</tr>
						<tr ng-show="psconf.ps_slotNumber.visible">
							<td class="detailsViewStructSX">{{ 'ps_paying_slot' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ viewParkingStructure.payingSlotNumber }}</td>
						</tr>
						<tr ng-show="psconf.ps_handicappedSlot.visible">	
							<td class="detailsViewStructSX">{{ 'ps_handicapped_slot' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ viewParkingStructure.handicappedSlotNumber }}</td>
						</tr>
<!-- 						<tr ng-show="psconf.ps_unusuableSlot.visible">	 -->
<!-- 							<td class="detailsViewStructSX">{{ 'ps_unusuable_slot' | i18n }}</td> -->
<!-- 							<td class="detailsViewStructDX">{{ viewParkingStructure.unusuableSlotNumber }}</td> -->
<!-- 						</tr> -->
						<tr ng-show="psconf.ps_geometry.visible">
							<td class="detailsViewStructSX">{{ 'ps_geometry' | i18n }}:</td>
							<td class="detailsViewStructDX">{{ myGeometry }}</td>
						</tr>
						<tr ng-show="psconf.ps_parkride.visible">
							<td class="detailsViewStructSX">{{ 'ps_park_and_ride' | i18n }}:</td>
							<td class="detailsViewStructDX">
								<span ng-if="isUsedItaLang()">{{ viewParkingStructure.parkAndRide | boolToString }}</span>
								<span ng-if="isUsedEngLang()">{{ viewParkingStructure.parkAndRide | boolToStringEng }}</span>
							</td>
						</tr>
						<tr ng-show="psconf.ps_zones0.visible">
							<td class="detailsViewStructSX">
								{{ zone0_label | i18n }}:
							</td>
							<td class="detailsViewStructDX">
								<table width="100%">
									<tr ng-repeat="z0 in viewParkingStructure.myZones0 track by z0.id">
										<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z0.color)}"></span></td>
										<td width="85%">{{ z0.name }}<span ng-if="z0.submacro"> - {{ z0.submacro }}</span><span ng-if="z0.submicro"> - {{ z0.submicro }}</span></td>
									</tr>
								</table>
							</td>
						</tr>
						<tr ng-show="psconf.ps_zones1.visible">	
							<td class="detailsViewStructSX">
								{{ zone1_label | i18n }}:
							</td>
							<td class="detailsViewStructDX">
								<table width="100%">
									<tr ng-repeat="z1 in viewParkingStructure.myZones1 track by z1.id">
										<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z1.color)}"></span></td>
										<td width="85%">{{ z1.name }}<span ng-if="z1.submacro"> - {{ z1.submacro }}</span><span ng-if="z1.submicro"> - {{ z1.submicro }}</span></td>
									</tr>
								</table>
							</td>
						</tr>
						<tr ng-show="psconf.ps_zones2.visible">	
							<td class="detailsViewStructSX">
								{{ zone2_label | i18n }}:
							</td>
							<td class="detailsViewStructDX">
								<table width="100%">
									<tr ng-repeat="z2 in viewParkingStructure.myZones2 track by z2.id">
										<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z2.color)}"></span></td>
										<td width="85%">{{ z2.name }}<span ng-if="z2.submacro"> - {{ z2.submacro }}</span><span ng-if="z2.submicro"> - {{ z2.submicro }}</span></td>
									</tr>
								</table>
							</td>
						</tr>
						<tr ng-show="psconf.ps_zones3.visible">	
							<td class="detailsViewStructSX">
								{{ zone3_label | i18n }}:
							</td>
							<td class="detailsViewStructDX">
								<table width="100%">
									<tr ng-repeat="z3 in viewParkingStructure.myZones3 track by z3.id">
										<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z3.color)}"></span></td>
										<td width="85%">{{ z3.name }}<span ng-if="z3.submacro"> - {{ z3.submacro }}</span><span ng-if="z3.submicro"> - {{ z3.submicro }}</span></td>
									</tr>
								</table>
							</td>
						</tr>
						<tr ng-show="psconf.ps_zones4.visible">	
							<td class="detailsViewStructSX">
								{{ zone4_label | i18n }}:
							</td>
							<td class="detailsViewStructDX">
								<table width="100%">
									<tr ng-repeat="z4 in viewParkingStructure.myZones4 track by z4.id">
										<td width="15%"><span class="colorBox" ng-style="{'background-color': correctColor(z4.color)}"></span></td>
										<td width="85%">{{ z4.name }}<span ng-if="z4.submacro"> - {{ z4.submacro }}</span><span ng-if="z4.submicro"> - {{ z4.submicro }}</span></td>
									</tr>
								</table>
							</td>
						</tr>
			   		</table>
			   		<hr>
				   	<table width="95%">			
						<tr>
							<td width="70%" align="right"></td>
							<td width="15%" align="center">
								<button type="button" class="btn btn-default btn-lg" ng-click="closePSView()">{{ 'text_btn_close' | i18n  }}</button>	
							</td>
							<td width="15%" align="left">
								<button type="button" class="btn btn-primary btn-lg" ng-click="setPsEdit(viewParkingStructure)">{{ 'text_btn_edit' | i18n  }}</button>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>		
	</div>
	<div ng-show="editModePS">
		<div class="col-md-12">
			<form role="form" name="form">
				<div class="panel panel-default" width="100%">
			    		<h3 class="panel-title"><strong>{{ 'edit_parkingstructure' | i18n }}</strong></h3>
			  		<div class="panel-body">
						<div class="col-md-12">
							<map id="editPs" center="{{ mapOption.center }}" zoom="{{ mapOption.zoom }}" width="100%" style="height: 400px" on-click="addNewPsMarker()" >
								<marker ng-repeat="ps in newPsMarkers" id="{{ ps.id }}" position="{{ ps.pos }}" icon="{{ ps.icon }}" visible="{{ ps.options.visible }}" draggable="{{ ps.options.draggable }}" on-dragend="updatePsPos()" ><!-- on-drag="updatePos()" -->
								</marker>
								<marker ng-repeat="ps in editPsMarkers" id="{{ ps.id }}" position="{{ ps.pos }}" icon="{{ ps.icon }}" visible="{{ ps.options.visible }}" draggable="{{ ps.options.draggable }}" on-dragend="updatePsPos()" ><!-- on-drag="updatePos()" -->
								</marker>
								<marker ng-repeat="c in cityCenter" id="{{ c.id }}" title="{{ c.options.title }}" position="{{ c.pos }}" visible="{{ c.options.visible }}" draggable="{{ c.options.draggable }}" on-dragend="updatePsCenterPos()" ><!-- on-drag="updatePos()" -->
								</marker>
							</map>
						</div>
						<div class="form-group" ng-show="psconf.ps_geometry.visible">
					    	<label for="geometry">{{ 'pm_geometry' | i18n }}</label>
					    	<input id="geometry" type="text" class="form-control" name="pGeometry" ng-model="myGeometry" ng-required="ps_geometry.required" ng-pattern="gpsPos" placeholder="{{ 'ps_geo_placeholder' | i18n }}" >
					   		<div class="field-error" ng-show="!isInit && form.pGeometry.$error.pattern">{{ 'parkingstructure_geometry_select_err_pattern' | i18n }}</div>
					   		<div class="field-error" ng-show="!isInit && form.pGeometry.$error.required">{{ 'parkingstructure_geometry_select_err_required' | i18n }}</div>
						</div>	
					   	<div class="form-group" ng-show="psconf.ps_name.visible">
					    	<label for="name">{{ 'ps_name' | i18n }}</label>
					    	<input id="name" type="text" class="form-control" name="pName" ng-model="parkingStructure.name" ng-required="ps_name.required" placeholder="{{ 'ps_name_placeholder' | i18n }}" ng-change="initPSCityCenter()">
					   		<div class="field-error" ng-show="!isInit && form.pCode.$error.required">{{ 'parkingstructure_name_err_required' | i18n }}</div>
					   	</div>
					   	<div class="form-group" ng-show="psconf.ps_address.visible">
					    	<label for="address">{{ 'ps_address' | i18n }}</label>
					    	<input id="address" type="text" class="form-control" name="pAddress" ng-model="parkingStructure.streetReference" ng-required="ps_address.required" placeholder="{{ 'ps_address_placeholder' | i18n }}" >
					   		<div class="field-error" ng-show="!isInit && form.pAddress.$error.required">{{ 'parkingstructure_address_err_required' | i18n }}</div>
					   	</div>
					   	<div class="form-group" ng-show="psconf.ps_parkride.visible">
					    	<label for="ps_parkRide">{{ 'ps_park_and_ride' | i18n }}</label> <input id="ps_parkRide" type="checkbox" ng-model="parkingStructure.parkAndRide">
					   	</div>
					   	<div class="form-group" ng-show="psconf.ps_fee.visible">
					    	<label for="fee">{{ 'ps_fee' | i18n }}</label>
					    	<table width="100%">
					    		<tr>
					    			<td width="6%"><strong>{{ 'ps_fee_det_val' | i18n }}: </strong></td>
					    			<td width="39%">
					    				<input id="feeVal" type="text" class="form-control" name="pFeeVal" ng-model="parkingStructure.fee_val" ng-required="psconf.ps_fee.required && parkingStructure.fee_note == null" placeholder="{{ 'ps_fee_placeholder' | i18n }}" ng-pattern="decimalNumbers" >
					   					<div class="field-error" ng-show="!isInit && form.pFeeVal.$error.pattern">{{ 'parkingstructure_fee_err_pattern' | i18n }}</div>
					    			</td>
					    			<td width="5%" align="center"><strong>{{ 'ps_fee_det_note' | i18n }}: </strong></td>
					    			<td width="50%">
					    				<input id="feeNote" type="text" class="form-control" name="pFeeNote" ng-model="parkingStructure.fee_note" ng-required="psconf.ps_fee.required && parkingStructure.fee_val == null" placeholder="{{ 'ps_fee_note_placeholder' | i18n }}" >
					    			</td>
					    		</tr>
					    		<tr ng-show="(!isInit && form.pFeeVal.$error.required) || (!isInit && form.pFeeNote.$error.required)">
					    			<td colspan="4">
					    				<div class="field-error">{{ 'parkingstructure_fee_err_required' | i18n }}</div>
					    			</td>
					    		</tr>
					    	</table>
					   	</div>
                        <label for="time">{{ 'ps_time' | i18n }}</label>
                        <div class="panel panel-default subpanel" width="95%">
					   	<div class="form-group" ng-show="psconf.ps_timeSlot.visible">
					    	<table width="100%" ng-show="openingPeriods != null && openingPeriods.length > 0">
					    		<tbody class="animate-repeat" ng-repeat="p in openingPeriods">
					    			<tr>
					    				<td width="6%"><strong>{{ 'ps_opening_from' | i18n }}: </strong></td>
					    				<td width="39%">{{ p.from }}</td>
					    				<td width="5%" align="center"><strong>{{ 'ps_opening_to' | i18n }}: </strong></td>
					    				<td width="40%">{{ p.to }}</td>
					    				<td width="10%" align="right">
					    					<button type="button" class="btn btn-default" ng-click="deleteOpeningPeriod(p)">{{ 'ps_time_period_delete' | i18n }}</button>
					    				</td>
					    			</tr>
					    		</tbody>
					    		<tr>
					    			<td colspan="5"><hr /></td>
					    		</tr>
					    		<tr ng-show="isErrorsPeriodTimeOverlap()">
					    			<td colspan="5">
					    				<div class="field-error">{{ 'ps_period_overlap_error' | i18n }}</div>
					    			</td>
					    		</tr>
					    		<tr ng-show="isErrorsPeriodTimeFromTo()">
					    			<td colspan="5">
					    				<div class="field-error">{{ 'ps_period_from_to_error' | i18n }}</div>
					    			</td>
					    		</tr>
					    	</table>
					    	<table width="100%">
					    		<tr>
					    			<td width="6%">
					    				<strong>{{ 'ps_opening_from' | i18n }}: </strong>
					    			</td>
					    			<td width="39%">
					    				<timepicker ng-model="startTime" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
					    			</td>
					    			<td width="5%" align="center">
					    				<strong>{{ 'ps_opening_to' | i18n }}: </strong>
					    			</td>
					    			<td width="40%">
					    				<timepicker ng-model="endTime" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>
					    			</td>
					    			<td width="10%" align="right">
					    				<button type="button" class="btn btn-success" ng-click="addOpeningPeriod(startTime, endTime)" alt="{{ 'add_time_period' | i18n }}" title="{{ 'add_time_period' | i18n }}">&nbsp;<i class="glyphicon glyphicon-plus icon-white"></i>&nbsp;</button>
					    			</td>
					    		</tr>
					    	</table>
					   	</div>
					   	</div>
					   	<div class="form-group" ng-show="psconf.ps_phoneNumber.visible">
					    	<label for="phone">{{ 'ps_phone' | i18n }}</label>
					    	<input id="phone" type="text" class="form-control" name="pPhone" ng-model="parkingStructure.phoneNumber" ng-pattern="onlyNumbers" ng-required="psconf.ps_phoneNumber.required" placeholder="{{ 'ps_phone_placeholder' | i18n }}" ><!-- phonePattern -->
					    	<div class="field-error" ng-show="!isInit && form.pPhone.$error.pattern">{{ 'parkingstructure_phone_err_pattern' | i18n }}</div>
					    	<div class="field-error" ng-show="!isInit && form.pPhone.$error.required">{{ 'parkingstructure_phone_err_required' | i18n }}</div>
					   	</div>
					   	<div class="form-group" ng-show="psconf.ps_manager.visible">
					    	<label for="manager">{{ 'ps_manager_in_edit' | i18n }}</label>
					    	<input id="manager_check" name="pManagerCheck" type="checkbox" ng-model="myManager">
					    	<div ng-show="myManager">
					    		<input id="manager" type="text" class="form-control" name="pManager" ng-model="parkingStructure.manager" ng-required="ps_manager.required" placeholder="{{ 'ps_manager_placeholder' | i18n }}" >
					    		<!-- <select id="manager" name="pManager" class="form-control" ng-options="m for m in allManagers" ng-model="parkingStructure.manager" ng-required="psconf.ps_manager.required">
					    			<option value="">{{ 'ps_manager_placeholder' | i18n }}</option>
					    		</select> -->
					    		<div class="field-error" ng-show="!isInit && form.pManager.$error.required">{{ 'parkingstructure_manager_err_required' | i18n }}</div>
					   		</div>
					   	</div>
					   	<div class="form-group" ng-show="psconf.ps_management.visible">
					    	<label for="managementMode">{{ 'ps_management_mode' | i18n }}</label>
					    	<input id="managementMode" type="text" class="form-control" name="pMMode" ng-model="parkingStructure.managementMode" ng-required="psconf.ps_management.required" placeholder="{{ 'ps_mmode_placeholder' | i18n }}" >
					   		<div class="field-error" ng-show="!isInit && form.pMMode.$error.required">{{ 'parkingstructure_management_err_required' | i18n }}</div>
					   	</div>
					   	<div class="form-group" ng-show="psconf.ps_payment.visible">
					   		<label for="paymentMode">{{ 'ps_payment_mode' | i18n }}</label>
					   		<div class="panel panel-default" width="95%">
					   			<div class="panel-body">
								   	<table width="100%">
								   		<tr>
								   			<td width="25%"><label for="cashPayment">{{ listaPagamenti[0].descrizione }}:</label> <input id="cashPayment" type="checkbox" ng-model="myPayment.cash_checked" ng-change="checkIfPaymentChecked(psconf.ps_payment.required)"></td>
								   			<td width="25%"><label for="automatedPayment">{{ listaPagamenti[1].descrizione }}:</label> <input id="automatedPayment" type="checkbox" ng-model="myPayment.automated_teller_checked" ng-change="checkIfPaymentChecked(psconf.ps_payment.required)"></td>
								   			<td width="25%"><label for="prepaidPayment">{{ listaPagamenti[2].descrizione }}:</label> <input id="prepaidPayment" type="checkbox" ng-model="myPayment.prepaid_card_checked" ng-change="checkIfPaymentChecked(psconf.ps_payment.required)"></td>
								   			<td width="25%"><label for="parcometroPayment">{{ listaPagamenti[3].descrizione }}:</label> <input id="parcometroPayment" type="checkbox" ng-model="myPayment.parcometro_checked" ng-change="checkIfPaymentChecked(psconf.ps_payment.required)"></td>
								   		</tr>
								   	</table>
							   	</div>
					    	<div class="field-error" ng-show="noPaymentChecked">{{ 'parkingstructure_payment_mode_select_err_required' | i18n }}</div>
					   		</div>
					   	</div>
					   	<label for="totalSlot">{{ 'ps_slots' | i18n }}</label>
					   	<div class="subpanel panel panel-default" width="95%">
					   		<div class="panel-body">
							   	<div class="form-group" ng-show="psconf.ps_slotNumber.visible">
							    	<label for="totalSlot">{{ 'ps_paying_slot' | i18n }}</label>
							    	<input id="totalSlot" type="text" class="form-control" name="pPayingslot" ng-model="parkingStructure.payingSlotNumber" ng-pattern="onlyNumbers" ng-required="psconf.ps_slotNumber.required" placeholder="{{ 'ps_payingslot_placeholder' | i18n }}" ng-change="updateTotalSlots(parkingStructure.payingSlotNumber, parkingStructure.handicappedSlotNumber)" >
							    	<div class="field-error" ng-show="!isInit && form.pPayingslot.$error.required">{{ 'parkingstructure_payingslots_err_required' | i18n }}</div>
							    	<div class="field-error" ng-show="!isInit && form.pPayingslot.$error.pattern">{{ 'parkingstructure_payingslots_err_pattern' | i18n }}</div>
							   	</div>
								<div class="form-group" ng-show="psconf.ps_handicappedSlot.visible">
							    	<label for="handicappedSlot">{{ 'ps_handicapped_slot' | i18n }}</label>
							    	<input id="handicappedSlot" type="text" class="form-control" name="pHandicappedslot" ng-model="parkingStructure.handicappedSlotNumber" ng-pattern="onlyNumbers" ng-required="psconf.ps_handicappedSlot.required" placeholder="{{ 'ps_handicappedslot_placeholder' | i18n }}" ng-change="updateTotalSlots(parkingStructure.payingSlotNumber, parkingStructure.handicappedSlotNumber)" >
							    	<div class="field-error" ng-show="!isInit && form.pHandicappedslot.$error.pattern">{{ 'parkingstructure_slots_err_pattern' | i18n }}</div>
							    	<div class="field-error" ng-show="!isInit && form.pHandicappedslot.$error.required">{{ 'parkingstructure_handicapped_slots_err_required' | i18n }}</div>
							   	</div>
<!-- 							   	<div class="form-group" ng-show="psconf.ps_unusuableSlot.visible"> -->
<!-- 							    	<label for="unusuableSlot">{{ 'ps_unusuable_slot' | i18n }}</label> -->
<!-- 							    	<input id="unusuableSlot" type="text" class="form-control" name="pUnusuableslot" ng-model="parkingStructure.unusuableSlotNumber" ng-pattern="onlyNumbers" ng-required="psconf.ps_unusuableSlot.required" placeholder="{{ 'ps_unusuableslot_placeholder' | i18n }}" > -->
<!-- 							    	<div class="field-error" ng-show="!isInit && form.pUnusuableslot.$error.pattern">{{ 'parkingstructure_slots_err_pattern' | i18n }}</div> -->
<!-- 							    	<div class="field-error" ng-show="!isInit && form.pUnusuableslot.$error.required">{{ 'parkingstructure_unusuable_slots_err_required' | i18n }}</div> -->
<!-- 							   	</div> -->
					   		</div>
					   	</div>
					 	<div class="form-group" ng-show="psconf.ps_zones0.visible">
					    	<label for="zone0">{{ zone0_label | i18n }}</label>
					    	<select id="zone0" name="psZone0" class="form-control" ng-options="m as m.label for m in psZones0 | orderBy: 'label'" ng-model="myPsZone0" ng-required="psconf.ps_zones0.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.psZone0.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="psconf.ps_zones1.visible">
					    	<label for="zone1">{{ zone1_label | i18n }}</label>
					    	<select id="zone1" name="psZone1" class="form-control" ng-options="m as m.label for m in psZones1 | orderBy: 'label'" ng-model="myPsZone1" ng-required="psconf.ps_zones1.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.psZone1.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="psconf.ps_zones2.visible">
					    	<label for="zone2">{{ zone2_label | i18n }}</label>
					    	<select id="zone2" name="psZone2" class="form-control" ng-options="m as m.label for m in psZones2 | orderBy: 'label'" ng-model="myPsZone2" ng-required="psconf.ps_zones2.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.psZone2.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="psconf.ps_zones3.visible">
					    	<label for="zone3">{{ zone3_label | i18n }}</label>
					    	<select id="zone3" name="psZone3" class="form-control" ng-options="m as m.label for m in psZones3 | orderBy: 'label'" ng-model="myPsZone3" ng-required="psconf.ps_zones3.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.psZone3.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div class="form-group" ng-show="psconf.ps_zones4.visible">
					    	<label for="zone4">{{ zone4_label | i18n }}</label>
					    	<select id="zone4" name="psZone4" class="form-control" ng-options="m as m.label for m in psZones4 | orderBy: 'label'" ng-model="myPsZone4" ng-required="psconf.ps_zones4.required">
					    		<option value="">{{ 'zone_select_placeholder' | i18n }}</option>
					    	</select>
					   		<div class="field-error" ng-show="!isInit && form.psZone4.$error.required">{{ 'zone_select_err_required' | i18n }}</div>
						</div>
						<div ng-if="psconf.ps_streetlife.visible">
							<label>VALUTAZIONE IMPATTO</label>
						   	<div class="subpanel panel panel-default" width="95%">
						   		<div class="panel-body">
								   	<div class="form-group" ng-show="false">
								    	<label for="sl_capacity">Capacita'</label>
								    	<input id="sl_capacity" type="text" class="form-control" name="pSLCapacity" ng-model="parkingStructure.slotNumber" ng-pattern="onlyNumbers" ng-required="psconf.ps_streetlife.required" placeholder="Posti totali in struttura" >
								    	<div class="field-error" ng-show="!isInit && form.pSLCapacity.$error.pattern">Valore non corretto. Inserire un valore numerico</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLCapacity.$error.required">Campo 'capacita' struttura' obbligatorio</div>
								   	</div>
								   	<div class="form-group" ng-init="getRideServices()">
								    	<label for="totalSlot">Servizi di trasporto</label>
					   					<div class="subpanel panel panel-default" width="95%">
					   						<div class="form-group">
							   					<label for="rideservices_bikesharing">Bike sharing</label>
										    	<select id="rideservices_bikesharing" name="rs_bikesharing" class="form-control" ng-options="rs1 as rs1.description for rs1 in rideservices1" ng-model="parkingStructure.rideservice1" ng-required="psconf.ps_streetlife.required" ng-change="calculatePercentageAndMaximumDemand(parkingStructure.rideservice1, parkingStructure.rideservice2, parkingStructure.rideservice3, parkingStructure.metropresent, parkingStructure.taxipresent)">
										    		<option value="">Bike sharing</option>
										    	</select>
									    	</div>
									    	<div class="form-group">
						   						<label for="rideservices_shuttlebus">Bus navetta</label>
										    	<select id="rideservices_shuttlebus" name="rs_shuttlebus" class="form-control" ng-options="rs2 as rs2.description for rs2 in rideservices2" ng-model="parkingStructure.rideservice2" ng-required="psconf.ps_streetlife.required" ng-change="calculatePercentageAndMaximumDemand(parkingStructure.rideservice1, parkingStructure.rideservice2, parkingStructure.rideservice3, parkingStructure.metropresent, parkingStructure.taxipresent)">
										    		<option value="">Bus navetta</option>
										    	</select>
									    	</div>
									    	<div class="form-group">
										    	<label for="rideservices_urbantransport">Autobus urbani</label>
										    	<select id="rideservices_urbantransport" name="rs_urbantransport" class="form-control" ng-options="rs3 as rs3.description for rs3 in rideservices3" ng-model="parkingStructure.rideservice3" ng-required="psconf.ps_streetlife.required" ng-change="calculatePercentageAndMaximumDemand(parkingStructure.rideservice1, parkingStructure.rideservice2, parkingStructure.rideservice3, parkingStructure.metropresent, parkingStructure.taxipresent)">
										    		<option value="">Autobus urbani</option>
										    	</select>
									    	</div>
									    	<div class="form-group">
										    	<label for="metro">Metro</label>
										    	<input id="rideservices_metro" type="checkbox" ng-model="parkingStructure.metropresent" ng-change="calculatePercentageAndMaximumDemand(parkingStructure.rideservice1, parkingStructure.rideservice2, parkingStructure.rideservice3, parkingStructure.metropresent, parkingStructure.taxipresent)">
									    	</div>
									    	<div class="form-group">
										    	<label for="taxi">Taxi</label>
						   						<input id="rideservices_taxi" type="checkbox" ng-model="parkingStructure.taxipresent" ng-change="calculatePercentageAndMaximumDemand(parkingStructure.rideservice1, parkingStructure.rideservice2, parkingStructure.rideservice3, parkingStructure.metropresent, parkingStructure.taxipresent)">
					   						</div>
					   					</div>
								   	</div>
								   	<div class="form-group">
								    	<label for="sl_flow">Flusso traffico intercettato (auto/ora)</label>
								    	<input id="sl_flow" type="text" class="form-control" name="pSLFlow" ng-model="parkingStructure.flow" ng-pattern="onlyNumbers" ng-required="psconf.ps_streetlife.required" placeholder="Flusso di traffico intercettato (auto/ora)" ng-blur="getParkDemand(parkingStructure, myGeometry)" >
								    	<div class="field-error" ng-show="!isInit && form.pSLFlow.$error.pattern">Valore non corretto. Inserire un valore numerico</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLFlow.$error.required">Campo 'flusso traffico' obbligatorio</div>
								   	</div>
								   	<!-- <div class="row" align="right">
								   		<button type="button" class="btn btn-primary" ng-click="getParkDemand(parkingStructure, myGeometry)">Calcola1</button>
								   	</div> -->
								   	<div class="form-group">
								    	<label for="sl_percentageDemand">Richiesta utilizzo (%)</label>
								    	<input id="sl_percentageDemand" type="text" class="form-control" name="pSLPercentageDemand" ng-model="parkingStructure.percentageDemand" ng-pattern="onlyNumbers" ng-required="psconf.ps_streetlife.required" placeholder="Richiesta utilizzo (valore percentuale)" >
								    	<div class="field-error" ng-show="!isInit && form.pSLPercentageDemand.$error.pattern">Valore non corretto. Inserire un valore numerico</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLPercentageDemand.$error.required">Campo 'richiesta utilizzo' obbligatorio</div>
								   	</div>
								   	<div class="form-group">
								    	<label for="sl_maximumDemand">Richiesta massima (posti)</label>
								    	<input id="sl_maximumDemand" type="text" class="form-control" name="pSLMaximumDemand" ng-model="parkingStructure.maximumDemand" ng-pattern="onlyNumbers" ng-required="psconf.ps_streetlife.required" placeholder="Richiesta massima (numero posti)" >
								    	<div class="field-error" ng-show="!isInit && form.pSLMaximumDemand.$error.pattern">Valore non corretto. Inserire un valore numerico</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLMaximumDemand.$error.required">Campo 'richiesta massima' obbligatorio</div>
								   	</div>
								   	<div class="form-group">
								    	<label for="sl_newParkingUsers">Nuovi utilizzatori</label>
								    	<input id="sl_newParkingUsers" type="text" class="form-control" name="pSLNewParkingUsers" ng-model="parkingStructure.newParkingUsers" ng-pattern="onlyNumbers" ng-required="psconf.ps_streetlife.required" placeholder="Numero possibili nuovi utilizzatori" >
								    	<div class="field-error" ng-show="!isInit && form.pSLNewParkingUsers.$error.pattern">Valore non corretto. Inserire un valore numerico</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLNewParkingUsers.$error.required">Campo 'nuovi utilizzatori' obbligatorio</div>
								   	</div>
						   	<!-- 		</div>
						   </div>	
						   	<label>ALGORITMO 2</label>
						   	<div class="subpanel panel panel-default" width="95%">
						   		<div class="panel-body"> -->
								   	<div class="form-group">
								    	<label for="sl_peakHourRate">Indice ora di punta</label>
								    	<input id="sl_peakHourRate" type="text" class="form-control" name="pSLPeakHourRate" ng-model="parkingStructure.peakHourRate" ng-pattern="decimalNumbers" ng-required="psconf.ps_streetlife.required" placeholder="Indice ora di punta" >
								    	<div class="field-error" ng-show="!isInit && form.pSLPeakHourRate.$error.pattern">Valore non corretto. Inserire un valore decimale</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLPeakHourRate.$error.required">Campo 'indice ora di punta' obbligatorio</div>
								   	</div>
								   	<div class="form-group">
								    	<label for="sl_co2Coefficient">Coefficiente unitario CO2 (g/km)</label>
								    	<input id="sl_co2Coefficient" type="text" class="form-control" name="pSLCo2Coefficient" ng-model="parkingStructure.co2Coefficient" ng-pattern="decimalNumbers" ng-required="psconf.ps_streetlife.required" placeholder="Coefficiente unitario CO2 (g/km)" >
								    	<div class="field-error" ng-show="!isInit && form.pSLCo2Coefficient.$error.pattern">Valore non corretto. Inserire un valore decimale</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLCo2Coefficient.$error.required">Campo 'coefficiente unitario CO2' obbligatorio</div>
								   	</div>
								   	<!-- <div class="form-group">
								    	<label for="sl_cityCenter">Cento citt&agrave; (lat,lon)</label>
								    	<input id="sl_cityCenter" type="text" class="form-control" name="pSLCityCenter" ng-model="parkingStructure.cityCenter" ng-pattern="gpsPos" ng-required="psconf.ps_streetlife.required" placeholder="Richiesta massima (numero posti)" >
								    	<div class="field-error" ng-show="!isInit && form.pSLMaximumDemand.$error.pattern">Valore non corretto. Inserire un valore numerico</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLMaximumDemand.$error.required">Campo 'richiesta massima' obbligatorio</div>
								   	</div> -->
								   	<div class="form-group">
								    	<label for="sl_cityCenterDistance">Distanza con Cento citt&agrave; (km)</label>
								    	<input id="sl_cityCenterDistance" type="text" class="form-control" name="pSLCityCenterDistance" ng-model="parkingStructure.cityCenterDistance" ng-pattern="kmDistance" ng-required="psconf.ps_streetlife.required" placeholder="Distanza tra struttura e centro citta' (km)" >
								    	<div class="field-error" ng-show="!isInit && form.pSLCityCenterDistance.$error.pattern">Valore non corretto. Inserire un valore decimale (es 1.234)</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLCityCenterDistance.$error.required">Campo 'distanza con centro citt&agrave;' obbligatorio</div>
								   	</div>
								   	<div class="row" align="right">
								   		<button type="button" class="btn btn-primary" ng-click="getParkDemand(parkingStructure, myGeometry);calculateImpactEvaluation(parkingStructure)">Calcola</button>
								   	</div>
								   	<div class="form-group">
								    	<label for="sl_notTraveledKm">Km risparmiati</label>
								    	<input id="sl_notTraveledKm" type="text" class="form-control" name="pSLNotTraveledKm" ng-model="parkingStructure.notTraveledKm" ng-pattern="kmDistance" ng-required="psconf.ps_streetlife.required" placeholder="Km non viaggiati (verso il centro citta' e ritorno)" >
								    	<div class="field-error" ng-show="!isInit && form.pSLNotTraveledKm.$error.pattern">Valore non corretto. Inserire un valore decimale (es 1.234)</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLNotTraveledKm.$error.required">Campo 'km risparmiati' obbligatorio</div>
								   	</div>
								   	<div class="form-group">
								    	<label for="sl_co2Saved">CO2 evitata (g)</label>
								    	<input id="sl_co2Saved" type="text" class="form-control" name="pSLCo2Saved" ng-model="parkingStructure.co2Saved" ng-pattern="onlyNumbers" ng-required="psconf.ps_streetlife.required" placeholder="Inserire la CO2 evitata" >
								    	<div class="field-error" ng-show="!isInit && form.pSLCo2Saved.$error.pattern">Valore non corretto. Inserire un valore numerico</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLCo2Saved.$error.required">Campo 'CO2 evitata' obbligatorio</div>
								   	</div>
								   	<div class="form-group">
								    	<label for="sl_centerAverateOccupancyRate">Occupazione media attuale parcheggi Rovereto centro (%)</label>
								    	<input id="sl_centerAverateOccupancyRate" type="text" class="form-control" name="pSLCenterAverateOccupancyRate" ng-model="parkingStructure.centerAverateOccupancyRate" ng-pattern="onlyNumbers" ng-required="psconf.ps_streetlife.required" placeholder="Occupazione media parcheggi centro" >
								    	<div class="field-error" ng-show="!isInit && form.pSLCenterAverateOccupancyRate.$error.pattern">Valore non corretto. Inserire un valore numerico</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLCenterAverateOccupancyRate.$error.required">Campo 'occupazione media attuale' obbligatorio</div>
								   	</div>
								   	<div class="form-group">
								    	<label for="sl_newAverateOccupancyRate">Nuova Occupazione media parcheggi Rovereto centro (%)</label>
								    	<input id="sl_newAverateOccupancyRate" type="text" class="form-control" name="pSLNewAverateOccupancyRate" ng-model="parkingStructure.newAverateOccupancyRate" ng-pattern="onlyNumbers" ng-required="psconf.ps_streetlife.required" placeholder="Nuova occupazione media parcheggi centro" >
								    	<div class="field-error" ng-show="!isInit && form.pSLNewAverateOccupancyRate.$error.pattern">Valore non corretto. Inserire un valore numerico</div>
								    	<div class="field-error" ng-show="!isInit && form.pSLNewAverateOccupancyRate.$error.required">Campo 'nuova occupazione media' obbligatorio</div>
								   	</div>
						   	</div>
						</div>
						<div class="form-group" ng-show="psconf.ps_show_widget.visible">
					    	<label for="ps_showInWidget">{{ 'ps_show_in_widget' | i18n }}</label> <input id="ps_showInWidget" type="checkbox" ng-model="parkingStructure.showInWidget">
					   	</div>
					</div>
					<div class="field-error" ng-show="showUpdatingPSErrorMessage">{{ 'err_in_update_parkingstructure' | i18n }}</div>
			   		<table width="97%">			
					   	<tr>
					   		<td width="85%"></td>
					   		<td width="8%" align="center">
					   			<button type="button" class="btn btn-default btn-lg" ng-click="closePSView()">{{ 'text_btn_close' | i18n  }}</button>
					   		</td>
					   		<td width="7%" align="right">
					   			<button type="button" class="btn btn-primary btn-lg" ng-click="updatePstruct(form, parkingStructure, myPayment, myGeometry, ps_payment.required, myPsZone0, myPsZone1, myPsZone2, myPsZone3, myPsZone4)" ng-show="isEditing">{{ 'text_btn_save' | i18n  }}</button>
					   			<button type="button" class="btn btn-primary btn-lg" ng-click="createPstruct(form, parkingStructure, myPayment, myGeometry, ps_payment.required, myPsZone0, myPsZone1, myPsZone2, myPsZone3, myPsZone4)" ng-show="!isEditing">{{ 'text_btn_save' | i18n  }}</button>
					   		</td>
						</tr>
						<tr>
							<td colspan="3">&nbsp;</td>
						</tr>
					</table>
			   	</div>
			   	
		   	</form>
	   	</div>
	</div>
</div>	